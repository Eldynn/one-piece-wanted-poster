var is=Object.defineProperty;var ns=(e,s,t)=>s in e?is(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var B=(e,s,t)=>(ns(e,typeof s!="symbol"?s+"":s,t),t),di=(e,s,t)=>{if(!s.has(e))throw TypeError("Cannot "+t)};var r=(e,s,t)=>(di(e,s,"read from private field"),t?t.call(e):s.get(e)),h=(e,s,t)=>{if(s.has(e))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(e):s.set(e,t)},d=(e,s,t,n)=>(di(e,s,"write to private field"),n?n.call(e,t):s.set(e,t),t),$i=(e,s,t,n)=>({set _(i){d(e,s,i,t)},get _(){return r(e,s,n)}}),g=(e,s,t)=>(di(e,s,"access private method"),t);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const ss="modulepreload",rs=function(e,s){return new URL(e,s).href},Wi={},os=function(s,t,n){if(!t||t.length===0)return s();const i=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=rs(o,n),o in Wi)return;Wi[o]=!0;const a=o.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!n)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===o&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":ss,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((f,p)=>{u.addEventListener("load",f),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>s())};function as(e={}){const{immediate:s=!1,onNeedRefresh:t,onOfflineReady:n,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=e;let c,l,u;const f=async(m=!0)=>{await l,await(u==null?void 0:u())};async function p(){if("serviceWorker"in navigator){const{Workbox:m}=await os(()=>import("./workbox-window.prod.es5-295a6886.js"),[],import.meta.url);c=new m("./service-worker.js",{scope:"./",type:"classic"}),u=async()=>{await(c==null?void 0:c.messageSkipWaiting())};{let y=!1;const w=()=>{y=!0,c==null||c.addEventListener("controlling",E=>{E.isUpdate&&window.location.reload()}),t==null||t()};c.addEventListener("installed",E=>{typeof E.isUpdate>"u"?typeof E.isExternal<"u"?E.isExternal?w():!y&&(n==null||n()):E.isExternal?window.location.reload():!y&&(n==null||n()):E.isUpdate||n==null||n()}),c.addEventListener("waiting",w),c.addEventListener("externalwaiting",w)}c.register({immediate:s}).then(y=>{o?o("./service-worker.js",y):i==null||i(y)}).catch(y=>{a==null||a(y)})}}return l=p(),f}as();/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.2
*/const pn=Object.freeze({left:0,top:0,width:16,height:16}),$e=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ne=Object.freeze({...pn,...$e}),bi=Object.freeze({...Ne,body:"",hidden:!1}),cs=Object.freeze({width:null,height:null}),gn=Object.freeze({...cs,...$e});function ls(e,s=0){const t=e.replace(/^-?[0-9.]*/,"");function n(i){for(;i<0;)i+=4;return i%4}if(t===""){const i=parseInt(e);return isNaN(i)?0:n(i)}else if(t!==e){let i=0;switch(t){case"%":i=25;break;case"deg":i=90}if(i){let o=parseFloat(e.slice(0,e.length-t.length));return isNaN(o)?0:(o=o/i,o%1===0?n(o):0)}}return s}const hs=/[\s,]+/;function ds(e,s){s.split(hs).forEach(t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}const mn={...gn,preserveAspectRatio:""};function Di(e){const s={...mn},t=(n,i)=>e.getAttribute(n)||i;return s.width=t("width",null),s.height=t("height",null),s.rotate=ls(t("rotate","")),ds(s,t("flip","")),s.preserveAspectRatio=t("preserveAspectRatio",t("preserveaspectratio","")),s}function us(e,s){for(const t in mn)if(e[t]!==s[t])return!0;return!1}const te=/^[a-z0-9]+(-[a-z0-9]+)*$/,Oe=(e,s,t,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:c};return s&&!Fe(u)?null:u}const o=i[0],a=o.split("-");if(a.length>1){const c={provider:n,prefix:a.shift(),name:a.join("-")};return s&&!Fe(c)?null:c}if(t&&n===""){const c={provider:n,prefix:"",name:o};return s&&!Fe(c,t)?null:c}return null},Fe=(e,s)=>e?!!((e.provider===""||e.provider.match(te))&&(s&&e.prefix===""||e.prefix.match(te))&&e.name.match(te)):!1;function fs(e,s){const t={};!e.hFlip!=!s.hFlip&&(t.hFlip=!0),!e.vFlip!=!s.vFlip&&(t.vFlip=!0);const n=((e.rotate||0)+(s.rotate||0))%4;return n&&(t.rotate=n),t}function Hi(e,s){const t=fs(e,s);for(const n in bi)n in $e?n in e&&!(n in t)&&(t[n]=$e[n]):n in s?t[n]=s[n]:n in e&&(t[n]=e[n]);return t}function ps(e,s){const t=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function o(a){if(t[a])return i[a]=[];if(!(a in i)){i[a]=null;const c=n[a]&&n[a].parent,l=c&&o(c);l&&(i[a]=[c].concat(l))}return i[a]}return(s||Object.keys(t).concat(Object.keys(n))).forEach(o),i}function gs(e,s,t){const n=e.icons,i=e.aliases||Object.create(null);let o={};function a(c){o=Hi(n[c]||i[c],o)}return a(s),t.forEach(a),Hi(e,o)}function bn(e,s){const t=[];if(typeof e!="object"||typeof e.icons!="object")return t;e.not_found instanceof Array&&e.not_found.forEach(i=>{s(i,null),t.push(i)});const n=ps(e);for(const i in n){const o=n[i];o&&(s(i,gs(e,i,o)),t.push(i))}return t}const ms={provider:"",aliases:{},not_found:{},...pn};function ui(e,s){for(const t in s)if(t in e&&typeof e[t]!=typeof s[t])return!1;return!0}function yn(e){if(typeof e!="object"||e===null)return null;const s=e;if(typeof s.prefix!="string"||!e.icons||typeof e.icons!="object"||!ui(e,ms))return null;const t=s.icons;for(const i in t){const o=t[i];if(!i.match(te)||typeof o.body!="string"||!ui(o,bi))return null}const n=s.aliases||Object.create(null);for(const i in n){const o=n[i],a=o.parent;if(!i.match(te)||typeof a!="string"||!t[a]&&!n[a]||!ui(o,bi))return null}return s}const We=Object.create(null);function bs(e,s){return{provider:e,prefix:s,icons:Object.create(null),missing:new Set}}function mt(e,s){const t=We[e]||(We[e]=Object.create(null));return t[s]||(t[s]=bs(e,s))}function Mi(e,s){return yn(s)?bn(s,(t,n)=>{n?e.icons[t]=n:e.missing.add(t)}):[]}function ys(e,s,t){try{if(typeof t.body=="string")return e.icons[s]={...t},!0}catch{}return!1}function ws(e,s){let t=[];return(typeof e=="string"?[e]:Object.keys(We)).forEach(i=>{(typeof i=="string"&&typeof s=="string"?[s]:Object.keys(We[i]||{})).forEach(a=>{const c=mt(i,a);t=t.concat(Object.keys(c.icons).map(l=>(i!==""?"@"+i+":":"")+a+":"+l))})}),t}let ie=!1;function wn(e){return typeof e=="boolean"&&(ie=e),ie}function ne(e){const s=typeof e=="string"?Oe(e,!0,ie):e;if(s){const t=mt(s.provider,s.prefix),n=s.name;return t.icons[n]||(t.missing.has(n)?null:void 0)}}function xn(e,s){const t=Oe(e,!0,ie);if(!t)return!1;const n=mt(t.provider,t.prefix);return ys(n,t.name,s)}function Qi(e,s){if(typeof e!="object")return!1;if(typeof s!="string"&&(s=e.provider||""),ie&&!s&&!e.prefix){let i=!1;return yn(e)&&(e.prefix="",bn(e,(o,a)=>{a&&xn(o,a)&&(i=!0)})),i}const t=e.prefix;if(!Fe({provider:s,prefix:t,name:"a"}))return!1;const n=mt(s,t);return!!Mi(n,e)}function xs(e){return!!ne(e)}function vs(e){const s=ne(e);return s?{...Ne,...s}:null}function Ss(e){const s={loaded:[],missing:[],pending:[]},t=Object.create(null);e.sort((i,o)=>i.provider!==o.provider?i.provider.localeCompare(o.provider):i.prefix!==o.prefix?i.prefix.localeCompare(o.prefix):i.name.localeCompare(o.name));let n={provider:"",prefix:"",name:""};return e.forEach(i=>{if(n.name===i.name&&n.prefix===i.prefix&&n.provider===i.provider)return;n=i;const o=i.provider,a=i.prefix,c=i.name,l=t[o]||(t[o]=Object.create(null)),u=l[a]||(l[a]=mt(o,a));let f;c in u.icons?f=s.loaded:a===""||u.missing.has(c)?f=s.missing:f=s.pending;const p={provider:o,prefix:a,name:c};f.push(p)}),s}function vn(e,s){e.forEach(t=>{const n=t.loaderCallbacks;n&&(t.loaderCallbacks=n.filter(i=>i.id!==s))})}function ks(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const s=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!s.length)return;let t=!1;const n=e.provider,i=e.prefix;s.forEach(o=>{const a=o.icons,c=a.pending.length;a.pending=a.pending.filter(l=>{if(l.prefix!==i)return!0;const u=l.name;if(e.icons[u])a.loaded.push({provider:n,prefix:i,name:u});else if(e.missing.has(u))a.missing.push({provider:n,prefix:i,name:u});else return t=!0,!0;return!1}),a.pending.length!==c&&(t||vn([e],o.id),o.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),o.abort))})}))}let Is=0;function Es(e,s,t){const n=Is++,i=vn.bind(null,t,n);if(!s.pending.length)return i;const o={id:n,icons:s,callback:e,abort:i};return t.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(o)}),i}const yi=Object.create(null);function Yi(e,s){yi[e]=s}function wi(e){return yi[e]||yi[""]}function Cs(e,s=!0,t=!1){const n=[];return e.forEach(i=>{const o=typeof i=="string"?Oe(i,s,t):i;o&&n.push(o)}),n}var Ls={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Ps(e,s,t,n){const i=e.resources.length,o=e.random?Math.floor(Math.random()*i):e.index;let a;if(e.random){let S=e.resources.slice(0);for(a=[];S.length>1;){const R=Math.floor(Math.random()*S.length);a.push(S[R]),S=S.slice(0,R).concat(S.slice(R+1))}a=a.concat(S)}else a=e.resources.slice(o).concat(e.resources.slice(0,o));const c=Date.now();let l="pending",u=0,f,p=null,m=[],y=[];typeof n=="function"&&y.push(n);function w(){p&&(clearTimeout(p),p=null)}function E(){l==="pending"&&(l="aborted"),w(),m.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),m=[]}function Y(S,R){R&&(y=[]),typeof S=="function"&&y.push(S)}function C(){return{startTime:c,payload:s,status:l,queriesSent:u,queriesPending:m.length,subscribe:Y,abort:E}}function k(){l="failed",y.forEach(S=>{S(void 0,f)})}function Xt(){m.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),m=[]}function hi(S,R,Vt){const Me=R!=="success";switch(m=m.filter(bt=>bt!==S),l){case"pending":break;case"failed":if(Me||!e.dataAfterTimeout)return;break;default:return}if(R==="abort"){f=Vt,k();return}if(Me){f=Vt,m.length||(a.length?Gt():k());return}if(w(),Xt(),!e.random){const bt=e.resources.indexOf(S.resource);bt!==-1&&bt!==e.index&&(e.index=bt)}l="completed",y.forEach(bt=>{bt(Vt)})}function Gt(){if(l!=="pending")return;w();const S=a.shift();if(S===void 0){if(m.length){p=setTimeout(()=>{w(),l==="pending"&&(Xt(),k())},e.timeout);return}k();return}const R={status:"pending",resource:S,callback:(Vt,Me)=>{hi(R,Vt,Me)}};m.push(R),u++,p=setTimeout(Gt,e.rotate),t(S,s,R.callback)}return setTimeout(Gt),C}function Sn(e){const s={...Ls,...e};let t=[];function n(){t=t.filter(c=>c().status==="pending")}function i(c,l,u){const f=Ps(s,c,l,(p,m)=>{n(),u&&u(p,m)});return t.push(f),f}function o(c){return t.find(l=>c(l))||null}return{query:i,find:o,setIndex:c=>{s.index=c},getIndex:()=>s.index,cleanup:n}}function ji(e){let s;if(typeof e.resources=="string")s=[e.resources];else if(s=e.resources,!(s instanceof Array)||!s.length)return null;return{resources:s,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const ai=Object.create(null),Jt=["https://api.simplesvg.com","https://api.unisvg.com"],Ue=[];for(;Jt.length>0;)Jt.length===1||Math.random()>.5?Ue.push(Jt.shift()):Ue.push(Jt.pop());ai[""]=ji({resources:["https://api.iconify.design"].concat(Ue)});function Xi(e,s){const t=ji(s);return t===null?!1:(ai[e]=t,!0)}function ci(e){return ai[e]}function _s(){return Object.keys(ai)}function Gi(){}const fi=Object.create(null);function As(e){if(!fi[e]){const s=ci(e);if(!s)return;const t=Sn(s),n={config:s,redundancy:t};fi[e]=n}return fi[e]}function kn(e,s,t){let n,i;if(typeof e=="string"){const o=wi(e);if(!o)return t(void 0,424),Gi;i=o.send;const a=As(e);a&&(n=a.redundancy)}else{const o=ji(e);if(o){n=Sn(o);const a=e.resources?e.resources[0]:"",c=wi(a);c&&(i=c.send)}}return!n||!i?(t(void 0,424),Gi):n.query(s,i,t)().abort}const Vi="iconify2",se="iconify",In=se+"-count",Ji=se+"-version",En=36e5,Ts=168;function xi(e,s){try{return e.getItem(s)}catch{}}function Bi(e,s,t){try{return e.setItem(s,t),!0}catch{}}function Zi(e,s){try{e.removeItem(s)}catch{}}function vi(e,s){return Bi(e,In,s.toString())}function Si(e){return parseInt(xi(e,In))||0}const Ct={local:!0,session:!0},Cn={local:new Set,session:new Set};let Fi=!1;function Rs(e){Fi=e}let je=typeof window>"u"?{}:window;function Ln(e){const s=e+"Storage";try{if(je&&je[s]&&typeof je[s].length=="number")return je[s]}catch{}Ct[e]=!1}function Pn(e,s){const t=Ln(e);if(!t)return;const n=xi(t,Ji);if(n!==Vi){if(n){const c=Si(t);for(let l=0;l<c;l++)Zi(t,se+l.toString())}Bi(t,Ji,Vi),vi(t,0);return}const i=Math.floor(Date.now()/En)-Ts,o=c=>{const l=se+c.toString(),u=xi(t,l);if(typeof u=="string"){try{const f=JSON.parse(u);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>i&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&s(f,c))return!0}catch{}Zi(t,l)}};let a=Si(t);for(let c=a-1;c>=0;c--)o(c)||(c===a-1?(a--,vi(t,a)):Cn[e].add(c))}function _n(){if(!Fi){Rs(!0);for(const e in Ct)Pn(e,s=>{const t=s.data,n=s.provider,i=t.prefix,o=mt(n,i);if(!Mi(o,t).length)return!1;const a=t.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,a):a,!0})}}function zs(e,s){const t=e.lastModifiedCached;if(t&&t>=s)return t===s;if(e.lastModifiedCached=s,t)for(const n in Ct)Pn(n,i=>{const o=i.data;return i.provider!==e.provider||o.prefix!==e.prefix||o.lastModified===s});return!0}function Ns(e,s){Fi||_n();function t(n){let i;if(!Ct[n]||!(i=Ln(n)))return;const o=Cn[n];let a;if(o.size)o.delete(a=Array.from(o).shift());else if(a=Si(i),!vi(i,a+1))return;const c={cached:Math.floor(Date.now()/En),provider:e.provider,data:s};return Bi(i,se+a.toString(),JSON.stringify(c))}s.lastModified&&!zs(e,s.lastModified)||Object.keys(s.icons).length&&(s.not_found&&(s=Object.assign({},s),delete s.not_found),t("local")||t("session"))}function Ki(){}function Os(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,ks(e)}))}function Ms(e,s){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(s).sort():e.iconsToLoad=s,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:t,prefix:n}=e,i=e.iconsToLoad;delete e.iconsToLoad;let o;if(!i||!(o=wi(t)))return;o.prepare(t,n,i).forEach(c=>{kn(t,c,l=>{if(typeof l!="object")c.icons.forEach(u=>{e.missing.add(u)});else try{const u=Mi(e,l);if(!u.length)return;const f=e.pendingIcons;f&&u.forEach(p=>{f.delete(p)}),Ns(e,l)}catch(u){console.error(u)}Os(e)})})}))}const Ui=(e,s)=>{const t=Cs(e,!0,wn()),n=Ss(t);if(!n.pending.length){let l=!0;return s&&setTimeout(()=>{l&&s(n.loaded,n.missing,n.pending,Ki)}),()=>{l=!1}}const i=Object.create(null),o=[];let a,c;return n.pending.forEach(l=>{const{provider:u,prefix:f}=l;if(f===c&&u===a)return;a=u,c=f,o.push(mt(u,f));const p=i[u]||(i[u]=Object.create(null));p[f]||(p[f]=[])}),n.pending.forEach(l=>{const{provider:u,prefix:f,name:p}=l,m=mt(u,f),y=m.pendingIcons||(m.pendingIcons=new Set);y.has(p)||(y.add(p),i[u][f].push(p))}),o.forEach(l=>{const{provider:u,prefix:f}=l;i[u][f].length&&Ms(l,i[u][f])}),s?Es(s,n,o):Ki},js=e=>new Promise((s,t)=>{const n=typeof e=="string"?Oe(e,!0):e;if(!n){t(e);return}Ui([n||e],i=>{if(i.length&&n){const o=ne(n);if(o){s({...Ne,...o});return}}t(e)})});function Bs(e){try{const s=typeof e=="string"?JSON.parse(e):e;if(typeof s.body=="string")return{...s}}catch{}}function Fs(e,s){const t=typeof e=="string"?Oe(e,!0,!0):null;if(!t){const o=Bs(e);return{value:e,data:o}}const n=ne(t);if(n!==void 0||!t.prefix)return{value:e,name:t,data:n};const i=Ui([t],()=>s(e,t,ne(t)));return{value:e,name:t,loading:i}}function pi(e){return e.hasAttribute("inline")}let An=!1;try{An=navigator.vendor.indexOf("Apple")===0}catch{}function Us(e,s){switch(s){case"svg":case"bg":case"mask":return s}return s!=="style"&&(An||e.indexOf("<a")===-1)?"svg":e.indexOf("currentColor")===-1?"bg":"mask"}const qs=/(-?[0-9.]*[0-9]+[0-9.]*)/g,$s=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ki(e,s,t){if(s===1)return e;if(t=t||100,typeof e=="number")return Math.ceil(e*s*t)/t;if(typeof e!="string")return e;const n=e.split(qs);if(n===null||!n.length)return e;const i=[];let o=n.shift(),a=$s.test(o);for(;;){if(a){const c=parseFloat(o);isNaN(c)?i.push(o):i.push(Math.ceil(c*s*t)/t)}else i.push(o);if(o=n.shift(),o===void 0)return i.join("");a=!a}}function Tn(e,s){const t={...Ne,...e},n={...gn,...s},i={left:t.left,top:t.top,width:t.width,height:t.height};let o=t.body;[t,n].forEach(y=>{const w=[],E=y.hFlip,Y=y.vFlip;let C=y.rotate;E?Y?C+=2:(w.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),w.push("scale(-1 1)"),i.top=i.left=0):Y&&(w.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),w.push("scale(1 -1)"),i.top=i.left=0);let k;switch(C<0&&(C-=Math.floor(C/4)*4),C=C%4,C){case 1:k=i.height/2+i.top,w.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:w.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:k=i.width/2+i.left,w.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}C%2===1&&(i.left!==i.top&&(k=i.left,i.left=i.top,i.top=k),i.width!==i.height&&(k=i.width,i.width=i.height,i.height=k)),w.length&&(o='<g transform="'+w.join(" ")+'">'+o+"</g>")});const a=n.width,c=n.height,l=i.width,u=i.height;let f,p;return a===null?(p=c===null?"1em":c==="auto"?u:c,f=ki(p,l/u)):(f=a==="auto"?l:a,p=c===null?ki(f,u/l):c==="auto"?u:c),{attributes:{width:f.toString(),height:p.toString(),viewBox:i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+u.toString()},body:o}}const Ws=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let De=Ws();function Ds(e){De=e}function Hs(){return De}function Qs(e,s){const t=ci(e);if(!t)return 0;let n;if(!t.maxURL)n=0;else{let i=0;t.resources.forEach(a=>{i=Math.max(i,a.length)});const o=s+".json?icons=";n=t.maxURL-i-t.path.length-o.length}return n}function Ys(e){return e===404}const Xs=(e,s,t)=>{const n=[],i=Qs(e,s),o="icons";let a={type:o,provider:e,prefix:s,icons:[]},c=0;return t.forEach((l,u)=>{c+=l.length+1,c>=i&&u>0&&(n.push(a),a={type:o,provider:e,prefix:s,icons:[]},c=l.length),a.icons.push(l)}),n.push(a),n};function Gs(e){if(typeof e=="string"){const s=ci(e);if(s)return s.path}return"/"}const Vs=(e,s,t)=>{if(!De){t("abort",424);return}let n=Gs(s.provider);switch(s.type){case"icons":{const o=s.prefix,c=s.icons.join(","),l=new URLSearchParams({icons:c});n+=o+".json?"+l.toString();break}case"custom":{const o=s.uri;n+=o.slice(0,1)==="/"?o.slice(1):o;break}default:t("abort",400);return}let i=503;De(e+n).then(o=>{const a=o.status;if(a!==200){setTimeout(()=>{t(Ys(a)?"abort":"next",a)});return}return i=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?t("abort",o):t("next",i)});return}setTimeout(()=>{t("success",o)})}).catch(()=>{t("next",i)})},Js={prepare:Xs,send:Vs};function tn(e,s){switch(e){case"local":case"session":Ct[e]=s;break;case"all":for(const t in Ct)Ct[t]=s;break}}function Rn(){Yi("",Js),wn(!0);let e;try{e=window}catch{}if(e){if(_n(),e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!Qi(i))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(const n in t){const i="IconifyProviders["+n+"] is invalid.";try{const o=t[n];if(typeof o!="object"||!o||o.resources===void 0)continue;Xi(n,o)||console.error(i)}catch{console.error(i)}}}}return{enableCache:t=>tn(t,!0),disableCache:t=>tn(t,!1),iconExists:xs,getIcon:vs,listIcons:ws,addIcon:xn,addCollection:Qi,calculateSize:ki,buildIcon:Tn,loadIcons:Ui,loadIcon:js,addAPIProvider:Xi,_api:{getAPIConfig:ci,setAPIModule:Yi,sendAPIQuery:kn,setFetch:Ds,getFetch:Hs,listAPIProviders:_s}}}function zn(e,s){let t=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in s)t+=" "+n+'="'+s[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+e+"</svg>"}function Zs(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Ks(e){return'url("data:image/svg+xml,'+Zs(e)+'")'}const Ii={"background-color":"currentColor"},Nn={"background-color":"transparent"},en={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},nn={"-webkit-mask":Ii,mask:Ii,background:Nn};for(const e in nn){const s=nn[e];for(const t in en)s[e+"-"+t]=en[t]}function sn(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}function tr(e,s,t){const n=document.createElement("span");let i=e.body;i.indexOf("<a")!==-1&&(i+="<!-- "+Date.now()+" -->");const o=e.attributes,a=zn(i,{...o,width:s.width+"",height:s.height+""}),c=Ks(a),l=n.style,u={"--svg":c,width:sn(o.width),height:sn(o.height),...t?Ii:Nn};for(const f in u)l.setProperty(f,u[f]);return n}function er(e){const s=document.createElement("span");return s.innerHTML=zn(e.body,e.attributes),s.firstChild}function rn(e,s){const t=s.icon.data,n=s.customisations,i=Tn(t,n);n.preserveAspectRatio&&(i.attributes.preserveAspectRatio=n.preserveAspectRatio);const o=s.renderedMode;let a;switch(o){case"svg":a=er(i);break;default:a=tr(i,{...Ne,...t},o==="mask")}const c=Array.from(e.childNodes).find(l=>{const u=l.tagName&&l.tagName.toUpperCase();return u==="SPAN"||u==="SVG"});c?a.tagName==="SPAN"&&c.tagName===a.tagName?c.setAttribute("style",a.getAttribute("style")):e.replaceChild(a,c):e.appendChild(a)}const gi="data-style";function on(e,s){let t=Array.from(e.childNodes).find(n=>n.hasAttribute&&n.hasAttribute(gi));t||(t=document.createElement("style"),t.setAttribute(gi,gi),e.appendChild(t)),t.textContent=":host{display:inline-block;vertical-align:"+(s?"-0.125em":"0")+"}span,svg{display:block}"}function an(e,s,t){const n=t&&(t.rendered?t:t.lastRender);return{rendered:!1,inline:s,icon:e,lastRender:n}}function ir(e="iconify-icon"){let s,t;try{s=window.customElements,t=window.HTMLElement}catch{return}if(!s||!t)return;const n=s.get(e);if(n)return n;const i=["icon","mode","inline","width","height","rotate","flip"],o=class extends t{constructor(){super();B(this,"_shadowRoot");B(this,"_state");B(this,"_checkQueued",!1);const l=this._shadowRoot=this.attachShadow({mode:"open"}),u=pi(this);on(l,u),this._state=an({value:""},u),this._queueCheck()}static get observedAttributes(){return i.slice(0)}attributeChangedCallback(l){if(l==="inline"){const u=pi(this),f=this._state;u!==f.inline&&(f.inline=u,on(this._shadowRoot,u))}else this._queueCheck()}get icon(){const l=this.getAttribute("icon");if(l&&l.slice(0,1)==="{")try{return JSON.parse(l)}catch{}return l}set icon(l){typeof l=="object"&&(l=JSON.stringify(l)),this.setAttribute("icon",l)}get inline(){return pi(this)}set inline(l){this.setAttribute("inline",l?"true":null)}restartAnimation(){const l=this._state;if(l.rendered){const u=this._shadowRoot;if(l.renderedMode==="svg")try{u.lastChild.setCurrentTime(0);return}catch{}rn(u,l)}}get status(){const l=this._state;return l.rendered?"rendered":l.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const l=this._state,u=this.getAttribute("icon");if(u!==l.icon.value){this._iconChanged(u);return}if(!l.rendered)return;const f=this.getAttribute("mode"),p=Di(this);(l.attrMode!==f||us(l.customisations,p))&&this._renderIcon(l.icon,p,f)}_iconChanged(l){const u=Fs(l,(f,p,m)=>{const y=this._state;if(y.rendered||this.getAttribute("icon")!==f)return;const w={value:f,name:p,data:m};w.data?this._gotIconData(w):y.icon=w});u.data?this._gotIconData(u):this._state=an(u,this._state.inline,this._state)}_gotIconData(l){this._checkQueued=!1,this._renderIcon(l,Di(this),this.getAttribute("mode"))}_renderIcon(l,u,f){const p=Us(l.data.body,f),m=this._state.inline;rn(this._shadowRoot,this._state={rendered:!0,icon:l,inline:m,customisations:u,attrMode:f,renderedMode:p})}};i.forEach(c=>{c in o.prototype||Object.defineProperty(o.prototype,c,{get:function(){return this.getAttribute(c)},set:function(l){this.setAttribute(c,l)}})});const a=Rn();for(const c in a)o[c]=o.prototype[c]=a[c];return s.define(e,o),o}ir()||Rn();const re=new Map,ee={avatarUrl:"",name:"",bounty:"",nameSpacing:0,bountySpacing:1,filter:"",shadow:0,blur:0,brightness:100,contrast:100,grayscale:0,hueRotate:0,saturate:100,sepia:0};function Ei({blur:e,brightness:s,contrast:t,grayscale:n,hueRotate:i,saturate:o,sepia:a}){return`blur(${e}px) brightness(${s}%) contrast(${t}%) grayscale(${n}%) hue-rotate(${i}deg) saturate(${o}%) sepia(${a}%)`}const b=new Proxy({...ee,filter:Ei(ee)},{set(e,s,t,n){if(!(s in ee))return!0;switch(s){case"blur":case"brightness":case"contrast":case"grayscale":case"hueRotate":case"saturate":case"sepia":const i=Ei({...e,[s]:t});if(i===e.filter)break;e.filter=i,setTimeout(()=>{(re.get("filter")??[]).forEach(a=>a("filter",i,e))})}return setTimeout(()=>{(re.get(s)??[]).forEach(o=>o(s,t,e))}),Reflect.set(e,s,t,n)}});function I(e,s){let t=re.get(e);t||(t=[]),t.push(s),re.set(e,t)}function _(e,s){let t=re.get(e);if(!t)return;const n=t.findIndex(i=>i===s);n>-1&&t.splice(n,1)}function mi(e={}){Object.assign(b,{...b,filter:Ei(ee),...e})}function nr(){Object.assign(b,{...ee})}const Kt={shadow:5,contrast:105,grayscale:35,saturate:80,sepia:40,name:"PUTLER",bounty:"War Criminal",nameSpacing:0,bountySpacing:1,avatarUrls:["./images/war-criminal/photo-01.png","./images/war-criminal/photo-02.png","./images/war-criminal/photo-03.png"]},sr=`:host{position:relative;display:block;width:100%;height:100%;background-image:url(./images/cement-wall.jpg);background-blend-mode:multiply;background-size:cover;background-position:center;padding:1rem;box-sizing:border-box;transition:background-color .2s}:host(.warcriminal){background-image:url(./images/cement-wall.jpg),url(./images/blood-stains-0.png)}:host(.dragin){background-color:silver}#uploadInput{display:none}.blood-overlay{position:absolute;width:100%;height:100%;top:0;left:0;opacity:.8;display:none;background-image:url(./images/blood-stains-1.png);background-size:cover;background-position:center;mix-blend-mode:multiply;animation-name:fade-in;animation-duration:4s}.blood-overlay--visible{display:block}.loading-overlay{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center;background-image:radial-gradient(#e1e4e7,#a5aab0)}.loading-overlay__luffy{max-width:50vw;max-height:40vh;filter:drop-shadow(0 3px 3px rgba(0,0,0,.5))}.tips-button{cursor:pointer;position:absolute;left:.8rem;top:.8rem;background-color:transparent;border:0;outline:none;padding:0}.tips-button>svg{transition:.2s;filter:drop-shadow(0 0 2px rgba(0,0,0,.5))}.tips-button>svg:hover{filter:drop-shadow(0 0 3px #c08000) drop-shadow(0 0 5px #fffca3)}.tips-button--hidden{display:none}.button-container{position:absolute;display:flex;box-sizing:border-box;gap:.5rem;bottom:0;left:0;padding:0 1rem 1rem}.button-container--hidden{display:none}.criminal{position:fixed;bottom:1.2rem;right:1rem;outline:none;cursor:pointer;margin-left:auto;width:4rem;height:4rem;max-width:15vw;max-height:15vw;border:0;padding:0;background-color:transparent;visibility:hidden;opacity:0;transition:2s}.criminal--visible{visibility:visible;opacity:1}.criminal.criminal--visible:after{top:55%;opacity:1}.criminal:before{position:absolute;top:0;left:0;content:" ";width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center;transition:filter .5s;background-image:url(./images/war-criminal/criminal-avatar.png);filter:contrast(85%) brightness(0%) drop-shadow(1px 1px .5rem crimson) drop-shadow(-1px -1px .5rem crimson)}.criminal--stamp:before{background-image:url(./images/war-criminal/criminal-stamp.png),url(./images/war-criminal/criminal-avatar.png);filter:contrast(85%) brightness(110%) drop-shadow(1px 1px .1rem rgba(0,0,0,.5)) drop-shadow(-1px -1px .1rem rgba(0,0,0,.5))}.criminal:after{position:absolute;top:120%;left:53%;transform:translate(-50%,-50%);color:#fff;content:"?";font-size:min(7vw,2rem);filter:brightness(100%)!important;transition:1s ease-out;opacity:0}.criminal--stamp:after{content:""}@keyframes fade-in{0%{opacity:0}to{opacity:.8}}
`,rr=`<input id="uploadInput" type="file" accept="image/*">\r
<slot name="poster"></slot>\r
<div class="blood-overlay"></div>\r
\r
<div class="button-container">\r
  <wanted-button id="editButton" aria-label="Edit panel button" title="Open the edit panel.">\r
    <iconify-icon slot="icon" icon="fluent-mdl2:edit-photo"></iconify-icon>\r
    EDIT\r
  </wanted-button>\r
\r
  <wanted-button id="importButton" aria-label="Import button" title="Import local image to edit.">\r
    <iconify-icon slot="icon" icon="uil:image-upload"></iconify-icon>\r
    IMPORT\r
  </wanted-button>\r
\r
  <wanted-button id="exportButton" aria-label="Export button" title="Export as image file.">\r
    <iconify-icon slot="icon" icon="uil:image-download"></iconify-icon>\r
    EXPORT\r
  </wanted-button>\r
</div>\r
\r
<button id="criminalButton" class="criminal" aria-label="Criminal mode button" title="War criminal"></button>\r
\r
<button id="tipsButton" class="tips-button" aria-label="Tips button" title="Tips">\r
  <svg width="32" height="32" viewBox="0 0 25 22">\r
    <defs>\r
      <radialGradient id="logo-gradient" cx="34%" cy="32%" fr="5%">\r
        <stop offset="0%" stop-color="#FFFDA8"></stop>\r
        <stop offset="70%" stop-color="#FFAB00"></stop>\r
      </radialGradient>\r
    </defs>\r
    <path fill="url('#logo-gradient')" stroke="#4E4A49"\r
      d="m22 10l-.625-1.375L20 8l1.375-.625L22 6l.625 1.375L24 8l-1.375.625Zm-3-4l-.95-2.05L16 3l2.05-.95L19 0l.95 2.05L22 3l-2.05.95ZM9 22q-.825 0-1.412-.587Q7 20.825 7 20h4q0 .825-.587 1.413Q9.825 22 9 22Zm-4-3v-2h8v2Zm.25-3q-1.725-1.025-2.737-2.75Q1.5 11.525 1.5 9.5q0-3.125 2.188-5.312Q5.875 2 9 2q3.125 0 5.312 2.188Q16.5 6.375 16.5 9.5q0 2.025-1.012 3.75q-1.013 1.725-2.738 2.75Z" />\r
  </svg>\r
</button>\r
\r
<tips-dialog></tips-dialog>\r
\r
<slot name="editPanel"></slot>\r
<slot></slot>\r
\r
\r
\r
<div class="loading-overlay">\r
  <luffy-logo class="loading-overlay__luffy"></luffy-logo>\r
</div>`,or="app-container",Zt="#warcriminal",On=document.createElement("template");On.innerHTML=rr;var oe,ae,Pt,U,ce,le,X,G,_t,he,de,L,At,P,He,Mn,Qe,jn,ue,Ci,Ye,Bn,V,Lt;class ar extends HTMLElement{constructor(){super();h(this,He);h(this,Qe);h(this,ue);h(this,Ye);h(this,V);h(this,oe,void 0);h(this,ae,void 0);h(this,Pt,void 0);h(this,U,void 0);h(this,ce,void 0);h(this,le,void 0);h(this,X,void 0);h(this,G,void 0);h(this,_t,void 0);h(this,he,0);h(this,de,0);h(this,L,void 0);h(this,At,void 0);h(this,P,void 0);const t=this.attachShadow({mode:"open"});d(this,L,t);const n=document.createElement("style");n.textContent=sr,t.append(n,On.content.cloneNode(!0)),t.addEventListener("WantedPosterLoaded",()=>{g(this,He,Mn).call(this)});const i=r(this,L).querySelector("slot[name=poster]");d(this,Pt,i==null?void 0:i.assignedNodes()[0]);const o=r(this,L).querySelector("slot[name=editPanel]");d(this,oe,o==null?void 0:o.assignedNodes()[0]),d(this,ae,r(this,L).querySelector("tips-dialog")),d(this,U,r(this,L).querySelector("#uploadInput")),d(this,ce,r(this,L).querySelector("#editButton")),d(this,le,r(this,L).querySelector("#importButton")),d(this,X,r(this,L).querySelector("#exportButton")),d(this,G,r(this,L).querySelector("#criminalButton")),d(this,_t,r(this,L).querySelector("#tipsButton")),d(this,At,g(this,Qe,jn).bind(this)),d(this,P,(a,c)=>{switch(a){case"avatarUrl":g(this,V,Lt).call(this,{"avatar-url":c.toString()});break;case"nameSpacing":g(this,V,Lt).call(this,{"name-spacing":c.toString()});break;case"bountySpacing":g(this,V,Lt).call(this,{"bounty-spacing":c.toString()});break;case"name":case"bounty":case"shadow":case"filter":g(this,V,Lt).call(this,{[a]:c.toString()})}}),window.addEventListener("hashchange",r(this,At))}connectedCallback(){d(this,de,new Date().getTime()),g(this,V,Lt).call(this,{"name-spacing":b.nameSpacing.toString(),"bounty-spacing":b.bountySpacing.toString(),shadow:b.shadow.toString(),filter:b.filter}),I("avatarUrl",r(this,P)),I("name",r(this,P)),I("bounty",r(this,P)),I("nameSpacing",r(this,P)),I("bountySpacing",r(this,P)),I("shadow",r(this,P)),I("filter",r(this,P)),location.hash===Zt&&g(this,ue,Ci).call(this,!0),this.addEventListener("dragover",t=>{t.preventDefault()}),this.addEventListener("dragenter",()=>{this.classList.add("dragin")}),this.addEventListener("dragleave",t=>{t.relatedTarget===null&&this.classList.remove("dragin")}),this.addEventListener("drop",t=>{var o;t.preventDefault(),this.classList.remove("dragin");const n=(o=t.dataTransfer)==null?void 0:o.files[0];if(!n||!n.type.startsWith("image"))return;const i=URL.createObjectURL(n);b.avatarUrl=i}),r(this,U).addEventListener("input",()=>{const t=r(this,U).files?r(this,U).files[0]:null;if(!t||!t.type.startsWith("image"))return;const n=URL.createObjectURL(t);b.avatarUrl=n}),r(this,ce).addEventListener("click",()=>{r(this,oe).toggle(!0)}),r(this,le).addEventListener("click",()=>{r(this,U).value="",r(this,U).click()}),r(this,X).addEventListener("click",async()=>{r(this,X).loading||(r(this,X).loading=!0,await r(this,Pt).export(),r(this,X).loading=!1)}),r(this,G).addEventListener("click",()=>{const t=location.hash===Zt;location.hash=t?"":Zt}),r(this,_t).addEventListener("click",()=>{r(this,ae).toggle()})}disconnectedCallback(){window.removeEventListener("hashchange",r(this,At)),_("avatarUrl",r(this,P)),_("name",r(this,P)),_("bounty",r(this,P)),_("shadow",r(this,P)),_("filter",r(this,P))}}oe=new WeakMap,ae=new WeakMap,Pt=new WeakMap,U=new WeakMap,ce=new WeakMap,le=new WeakMap,X=new WeakMap,G=new WeakMap,_t=new WeakMap,he=new WeakMap,de=new WeakMap,L=new WeakMap,At=new WeakMap,P=new WeakMap,He=new WeakSet,Mn=function(){const t=r(this,L).querySelector(".loading-overlay");let n=1e3,i=setInterval(()=>{if(!(new Date().getTime()-r(this,de)<n)){if(clearTimeout(i),t.style.transition="opacity 1s",t.style.opacity="0",setTimeout(()=>t.remove(),1e3),location.hash===Zt){r(this,G).classList.add("criminal--visible");return}setTimeout(()=>r(this,G).classList.add("criminal--visible"),1e4)}},200)},Qe=new WeakSet,jn=function(){g(this,ue,Ci).call(this,location.hash===Zt)},ue=new WeakSet,Ci=function(t){var i;const n=r(this,L).querySelector(".blood-overlay");n&&(this.classList.toggle("warcriminal"),n.classList.toggle("blood-overlay--visible"),r(this,G).classList.toggle("criminal--stamp"),r(this,_t).classList.toggle("tips-button--hidden"),(i=r(this,L).querySelector(".button-container"))==null||i.classList.toggle("button-container--hidden"),t&&mi({...Kt}),g(this,Ye,Bn).call(this,t))},Ye=new WeakSet,Bn=function(t){if(!t){clearInterval(r(this,he));return}mi({avatarUrl:Kt.avatarUrls[0]});let n=1;d(this,he,window.setInterval(()=>{mi({avatarUrl:Kt.avatarUrls[n]}),n=(n+1)%Kt.avatarUrls.length},5e3))},V=new WeakSet,Lt=function(t){const n=Object.keys(t);for(let i of n){const o=t[i]??"";r(this,Pt).setAttribute(i,o)}};customElements.define(or,ar);const cr=`:host{--text-shadow: .1rem .1rem .1rem rgba(0, 0, 0, .5);--element-filter: drop-shadow(2px 0 2px rgba(0, 0, 0, .4)) drop-shadow(-2px 0 2px rgba(0, 0, 0, .4)) contrast(100%) brightness(100%);--element-hover-filter: drop-shadow(3px 0 3px rgba(0, 0, 0, .4)) drop-shadow(-3px 0 3px rgba(0, 0, 0, .5)) contrast(105%) brightness(105%);--element-active-filter: drop-shadow(1px 0 2px rgba(0, 0, 0, .6)) drop-shadow(-1px 0 2px rgba(0, 0, 0, .7)) contrast(105%) brightness(105%);--slider-thumb-size: 2rem;display:block;position:fixed;top:0;left:0;width:18.75rem;max-width:80%;height:100%;transform:translate(-105%);transition:transform .2s;box-shadow:.1rem 0 .3rem #00000080;background:linear-gradient(120deg,rgb(245 198 95),rgb(245 218 158),rgb(245 198 96));border:1px solid #3b230e;padding:.125rem;box-sizing:border-box}:host(.open){transform:translate(0)}.container{display:flex;flex-direction:column;width:100%;height:100%;background:url(./images/wood-bg.png) repeat-y center top;background-size:100% auto;border:.0625rem solid rgb(180,150,81);box-shadow:inset 0 0 .2rem .2rem #0000007f;box-sizing:border-box}.field-container{display:flex;flex-direction:column;gap:2rem;flex:1 0;padding:1rem;overflow-y:auto;overflow-x:hidden}.action-container{display:flex;align-items:center;justify-content:space-around;height:4rem;padding:0 1rem}.wood-button{border:0;font-size:1rem;outline:none;color:#fff;cursor:pointer;background-image:url(./images/wood-button.png);background-color:transparent;background-size:100% 100%;background-repeat:no-repeat;background-position:center;width:6rem;height:2rem;display:flex;align-items:center;justify-content:center;color:#fffc;text-shadow:var(--text-shadow);filter:var(--element-filter);transition:.05s}.wood-button:hover{filter:var(--element-hover-filter)}.close-button{border:0;outline:none;cursor:pointer;background-image:url(./images/close-button.png);background-color:transparent;background-size:100% 100%;background-repeat:no-repeat;background-position:center;width:2rem;height:2rem;filter:var(--element-filter);transition:.1s}.close-button:hover{filter:var(--element-hover-filter)}.wood-button:active,.close-button:active{filter:var(--element-active-filter);transform:translateY(1px)}.text-input{border:0;outline:none;color:#584034;background-image:url(./images/input-frame.png);background-color:transparent;background-size:100% 100%;background-repeat:no-repeat;background-position:center;text-align:center;line-height:4rem;font-size:2rem;padding:0 1rem;text-shadow:var(--text-shadow);filter:var(--element-filter)}.text-input::placeholder{color:#0000004d;font-size:2rem;text-shadow:none}.slider{display:flex;flex-direction:column;align-items:center}.slider__label{font-family:sans-serif;color:#584034;font-size:.75rem;background-image:url(./images/scroll-paper.png);background-color:transparent;background-size:100% 100%;background-repeat:no-repeat;background-position:center;width:10.5rem;height:2rem;display:inline-flex;align-items:center;justify-content:center;padding-bottom:.1rem;box-sizing:border-box;margin:0;position:relative}.slider__input{appearance:none;width:100%;height:2.5rem;background:transparent;outline:none}.slider__input::-webkit-slider-runnable-track{height:.75rem;background-color:#584034;border:1px solid rgba(0,0,0,.8);box-shadow:0 0 3px 1px #000c;border-radius:.1rem}.slider__input::-moz-range-track{height:.75rem;background-color:#584034;border:1px solid rgba(0,0,0,.8);box-shadow:0 0 3px 1px #000c;border-radius:.1rem}.slider__input::-webkit-slider-thumb{appearance:none;position:relative;top:-.75rem;width:var(--slider-thumb-size);height:var(--slider-thumb-size);border:0;background:url(./images/slider-thumb.png);background-color:transparent;background-size:cover;background-repeat:no-repeat;background-position:center;cursor:pointer;filter:var(--element-filter);transition:filter .05s}.slider__input::-webkit-slider-thumb:hover{filter:var(--element-hover-filter)}.slider__input::-moz-range-thumb{position:relative;top:-.75rem;width:var(--slider-thumb-size);height:var(--slider-thumb-size);border:0;background:url(./images/slider-thumb.png);background-color:transparent;background-size:cover;background-repeat:no-repeat;background-position:center;cursor:pointer;filter:var(--element-filter)}::selection{color:#fff;background:rgba(88,64,52,.8);filter:brightness(120%)}::-webkit-scrollbar{width:.2rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#f5d58d;border-radius:.1rem}::-webkit-scrollbar-corner{background:transparent}
`,lr=`<div class="container">\r
  <div class="field-container">\r
    <input id="nameInput" class="text-input" placeholder="Name" />\r
    <input id="bountyInput" class="text-input" placeholder="Bounty" />\r
\r
    <div class="slider">\r
      <label for="nameSpacingSlider" class="slider__label">Name Text Spacing</label>\r
      <input id="nameSpacingSlider" class="slider__input" type="range" min="0" max="3">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="bountySpacingSlider" class="slider__label">Bounty Text Spacing</label>\r
      <input id="bountySpacingSlider" class="slider__input" type="range" min="0" max="3">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="shadowSlider" class="slider__label">Shadow</label>\r
      <input id="shadowSlider" class="slider__input" type="range" min="0" max="20">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="blurSlider" class="slider__label">Blur</label>\r
      <input id="blurSlider" class="slider__input" type="range" min="0" max="10">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="brightnessSlider" class="slider__label">Brightness</label>\r
      <input id="brightnessSlider" class="slider__input" type="range" min="0" max="200">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="contrastSlider" class="slider__label">Contrast</label>\r
      <input id="contrastSlider" class="slider__input" type="range" min="0" max="200">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="grayscaleSlider" class="slider__label">Grayscale</label>\r
      <input id="grayscaleSlider" class="slider__input" type="range" min="0" max="100">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="hueRotateSlider" class="slider__label">Hue Rotate</label>\r
      <input id="hueRotateSlider" class="slider__input" type="range" min="0" max="360">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="saturateSlider" class="slider__label">Saturate</label>\r
      <input id="saturateSlider" class="slider__input" type="range" min="0" max="200">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="sepiaSlider" class="slider__label">Sepia</label>\r
      <input id="sepiaSlider" class="slider__input" type="range" min="0" max="100">\r
    </div>\r
  </div>\r
  <div class="action-container">\r
    <button id="closeButton" class="close-button" aria-label="Close edit panel button" title="Close"></button>\r
    <button id="resetButton" class="wood-button" aria-label="Reset button"\r
      title="Reset to default settings.">RESET</button>\r
  </div>\r
</div>`,hr="edit-panel",Fn=document.createElement("template");Fn.innerHTML=lr;var Tt,J,Z,K,tt,et,it,nt,st,rt,ot,at,ct,fe,pe,Rt,v;class dr extends HTMLElement{constructor(){super();h(this,Tt,!1);h(this,J,void 0);h(this,Z,void 0);h(this,K,void 0);h(this,tt,void 0);h(this,et,void 0);h(this,it,void 0);h(this,nt,void 0);h(this,st,void 0);h(this,rt,void 0);h(this,ot,void 0);h(this,at,void 0);h(this,ct,void 0);h(this,fe,void 0);h(this,pe,void 0);h(this,Rt,void 0);h(this,v,void 0);const t=this.attachShadow({mode:"open"}),n=document.createElement("style");n.textContent=cr,t.append(n,Fn.content.cloneNode(!0)),d(this,J,t.querySelector("#nameInput")),d(this,Z,t.querySelector("#bountyInput")),d(this,K,t.querySelector("#nameSpacingSlider")),d(this,tt,t.querySelector("#bountySpacingSlider")),d(this,et,t.querySelector("#shadowSlider")),d(this,it,t.querySelector("#blurSlider")),d(this,nt,t.querySelector("#brightnessSlider")),d(this,st,t.querySelector("#contrastSlider")),d(this,rt,t.querySelector("#grayscaleSlider")),d(this,ot,t.querySelector("#hueRotateSlider")),d(this,at,t.querySelector("#saturateSlider")),d(this,ct,t.querySelector("#sepiaSlider")),d(this,fe,t.querySelector("#closeButton")),d(this,pe,t.querySelector("#resetButton")),d(this,v,(i,o)=>{switch(o=o.toString(),i){case"name":r(this,J).value=o;break;case"bounty":r(this,Z).value=o;break;case"nameSpacing":r(this,K).value=o;break;case"bountySpacing":r(this,tt).value=o;break;case"shadow":r(this,et).value=o;break;case"blur":r(this,it).value=o;break;case"brightness":r(this,nt).value=o;break;case"contrast":r(this,st).value=o;break;case"grayscale":r(this,rt).value=o;break;case"hueRotate":r(this,ot).value=o;break;case"saturate":r(this,at).value=o;break;case"sepia":r(this,ct).value=o;break}}),d(this,Rt,i=>{i.target instanceof Node&&this.contains(i.target)||this.toggle(!1)})}toggle(t){if(t){d(this,Tt,!0),this.classList.add("open"),setTimeout(()=>{d(this,Tt,!1)},200);return}!r(this,Tt)&&this.classList.remove("open")}connectedCallback(){window.addEventListener("pointerdown",r(this,Rt)),I("name",r(this,v)),I("bounty",r(this,v)),I("nameSpacing",r(this,v)),I("bountySpacing",r(this,v)),I("shadow",r(this,v)),I("blur",r(this,v)),I("saturate",r(this,v)),I("contrast",r(this,v)),I("grayscale",r(this,v)),I("hueRotate",r(this,v)),I("hueRotate",r(this,v)),I("sepia",r(this,v)),r(this,J).value=b.name,r(this,Z).value=b.bounty.toString(),r(this,K).value=b.nameSpacing.toString(),r(this,tt).value=b.bountySpacing.toString(),r(this,et).value=b.shadow.toString(),r(this,it).value=b.blur.toString(),r(this,nt).value=b.brightness.toString(),r(this,st).value=b.contrast.toString(),r(this,rt).value=b.grayscale.toString(),r(this,ot).value=b.hueRotate.toString(),r(this,at).value=b.saturate.toString(),r(this,ct).value=b.sepia.toString(),r(this,J).addEventListener("input",()=>b.name=r(this,J).value),r(this,Z).addEventListener("input",()=>b.bounty=r(this,Z).value),r(this,K).addEventListener("input",()=>b.nameSpacing=parseInt(r(this,K).value)),r(this,tt).addEventListener("input",()=>b.bountySpacing=parseInt(r(this,tt).value)),r(this,et).addEventListener("input",()=>b.shadow=parseInt(r(this,et).value)),r(this,it).addEventListener("input",()=>b.blur=parseInt(r(this,it).value)),r(this,nt).addEventListener("input",()=>b.brightness=parseInt(r(this,nt).value)),r(this,st).addEventListener("input",()=>b.contrast=parseInt(r(this,st).value)),r(this,rt).addEventListener("input",()=>b.grayscale=parseInt(r(this,rt).value)),r(this,ot).addEventListener("input",()=>b.hueRotate=parseInt(r(this,ot).value)),r(this,at).addEventListener("input",()=>b.saturate=parseInt(r(this,at).value)),r(this,ct).addEventListener("input",()=>b.sepia=parseInt(r(this,ct).value)),r(this,fe).addEventListener("click",()=>this.toggle(!1)),r(this,pe).addEventListener("click",nr)}disconnectedCallback(){window.removeEventListener("pointerdown",r(this,Rt)),_("name",r(this,v)),_("bounty",r(this,v)),_("shadow",r(this,v)),_("blur",r(this,v)),_("saturate",r(this,v)),_("contrast",r(this,v)),_("grayscale",r(this,v)),_("hueRotate",r(this,v)),_("hueRotate",r(this,v)),_("sepia",r(this,v))}}Tt=new WeakMap,J=new WeakMap,Z=new WeakMap,K=new WeakMap,tt=new WeakMap,et=new WeakMap,it=new WeakMap,nt=new WeakMap,st=new WeakMap,rt=new WeakMap,ot=new WeakMap,at=new WeakMap,ct=new WeakMap,fe=new WeakMap,pe=new WeakMap,Rt=new WeakMap,v=new WeakMap;customElements.define(hr,dr);const ur=`:host{position:relative;width:317px;height:298px;display:flex;justify-content:center;align-items:center}.bottom-img{display:block;max-width:100%;max-height:100%;object-fit:contain;aspect-ratio:317/298}.top-img{position:absolute;left:0;right:0;top:0;bottom:0;margin:auto;max-width:100%;max-height:100%;animation-name:flicker;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:linear;filter:brightness(1.8);-webkit-mask-image:linear-gradient(90deg,rgba(0,0,0,0) 35%,rgba(255,255,255,1) 50%,rgba(0,0,0,0) 65%);mask-image:linear-gradient(90deg,rgba(0,0,0,0) 35%,rgba(255,255,255,1) 50%,rgba(0,0,0,0) 65%);-webkit-mask-size:300% 100%;mask-size:300% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}@keyframes flicker{0%{-webkit-mask-position:150% 0%;mask-position:150% 0%}30%{-webkit-mask-position:-150% 0%;mask-position:-150% 0%}to{-webkit-mask-position:-150% 0%;mask-position:-150% 0%}}
`,fr=`<img class="bottom-img" src="./images/luffy.png" alt="luffy avatar" />\r
<img class="top-img" src="./images/luffy.png" alt="luffy avatar" />`,pr="luffy-logo",Un=document.createElement("template");Un.innerHTML=fr;class gr extends HTMLElement{constructor(){super();const s=this.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=ur,s.append(t,Un.content.cloneNode(!0))}}customElements.define(pr,gr);const mr=`:host{--text-color: rgb(77, 50, 46)}:host{display:block;position:fixed;font-size:.8rem;margin-top:3rem;margin-left:.5rem;left:0;top:0;opacity:0;transition:.2s;visibility:hidden;max-width:100vw;color:var(--text-color);box-sizing:border-box;width:17.62rem;height:26.33rem;filter:drop-shadow(0 0 5px rgba(0,0,0,.6));padding:1rem .8rem 1rem 1rem;background-image:url(./images/tips-paper.png);background-repeat:no-repeat;background-size:contain}:host([open]){visibility:visible;opacity:1}.content{overflow:auto;height:100%}.content h3{border-bottom:1px solid var(--text-color)}.content *{margin-block-start:.5em;margin-block-end:1em}a{position:relative;outline:none;text-decoration:none}a:after{content:" ";position:absolute;border-bottom:.2rem solid rgba(211,255,77,.5);height:1px;width:100%;bottom:0;left:0}a:link{color:#009637}a:visited{color:#558f6a}::-webkit-scrollbar{width:.1rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--text-color);border-radius:.1rem}::-webkit-scrollbar-corner{background:transparent}
`,br=`<div class="content">\r
\r
  <h3>Import image as the wanted photo</h3>\r
  <p>\r
    Click <b>IMPORT</b> button to choose an image from your device storage, or drag and drop the image anywhere on this\r
    page.\r
  </p>\r
\r
  <h3>Adjust the position of the photo</h3>\r
  <p>\r
    After importing the image, click(or touch) and drag the photo to adjust the position.\r
  </p>\r
\r
  <h3>Resize the imported photo</h3>\r
  <p>\r
    - Move the cursor over the photo, and scroll the mouse wheel to zoom in or zoom out.\r
  </p>\r
  <p>\r
    - Move the cursor over the red border around the photo and drag it to resize.\r
  </p>\r
  <p>\r
    - For the touch screen device, touch two fingers on the top of the photo, and move them apart to zoom in, or\r
    together to\r
    zoom out.\r
  </p>\r
\r
  <h3>Name and Bounty</h3>\r
  <P>\r
    Click <b>EDIT</b> button to open the edit panel, the first\r
    input field in the edit panel is name, and the second input field is bounty.\r
  </P>\r
  <p>\r
    You can input any text for both of them, however if you input number in the bounty field, the Belly sign will be\r
    rendered in the front of the bounty text, and decimal comma will automatically insert in the text.\r
  </p>\r
\r
  <h3>Install this app on your device</h3>\r
  <p>\r
    <b>NOTE: For now, only Chrome and Edge support this feature.</b>\r
  </p>\r
  <p>\r
    This web application support <a href="https://en.wikipedia.org/wiki/Progressive_web_app" target="_blank">PWA</a>,\r
    which means you can\r
    install it as a native app on your device, and launch it directly without opening the browser.\r
\r
  </p>\r
  <p>\r
    Check out the <a href="https://support.google.com/chrome/answer/9658361?hl=en&co=GENIE.Platform%3DDesktop"\r
      target="_blank">installation guide</a>.</p>\r
\r
</div>`,yr="tips-dialog",qn=document.createElement("template");qn.innerHTML=br;class wr extends HTMLElement{constructor(){super();const s=this.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=mr,s.append(t,qn.content.cloneNode(!0))}toggle(){this.hasAttribute("open")?this.removeAttribute("open"):this.setAttribute("open","")}}customElements.define(yr,wr);const xr=`:host{outline:none;display:inline-flex;position:relative;cursor:pointer;width:4.25rem;height:5rem;background-color:transparent;transition:.05s;justify-content:center;filter:contrast(100%) brightness(100%) drop-shadow(1px 1px 1px rgba(0,0,0,.5)) drop-shadow(-1px -1px 1px rgba(0,0,0,.5))}:host(:hover:not([loading])){filter:contrast(105%) brightness(105%) drop-shadow(1px 4px 3px rgba(0,0,0,.5)) drop-shadow(-1px 0px 3px rgba(0,0,0,.5))}:host(:active:not([loading])){transform:translateY(1px);filter:contrast(105%) brightness(105%) drop-shadow(1px 2px 1px rgba(0,0,0,.6)) drop-shadow(-1px 0px 1px rgba(0,0,0,.6))}.img{position:absolute;max-width:100%;max-height:100%}.icon{position:absolute;font-size:1.5rem;color:#513721;display:flex;justify-content:center;align-items:center;top:21%;width:82%;height:44%;box-sizing:border-box}iconify-icon{display:none}:host([loading]){cursor:wait}:host([loading]) iconify-icon{display:inline}.text{font-size:.9rem;position:absolute;display:flex;justify-content:center;align-items:center;font-family:Scheherazade New,Noto Sans TC,sans-serif;color:#513721;bottom:12%;width:85%;height:20%;white-space:nowrap;overflow:hidden;font-weight:900;text-align:justify;box-sizing:border-box}
`,vr=`<img class="img" alt="button image" />\r
<div class="icon">\r
  <slot name="icon"></slot>\r
  <iconify-icon icon="eos-icons:loading"></iconify-icon>\r
</div>\r
<span class="text">\r
  <slot></slot>\r
</span>`,Sr=""+new URL("wanted-c2a6dd7a.png",import.meta.url).href,kr="wanted-button",Ir=["font-size"],$n=document.createElement("template");$n.innerHTML=vr;var ge,me;class Er extends HTMLElement{constructor(){var i;super();h(this,ge,void 0);h(this,me,void 0);const t=this.attachShadow({mode:"open"});d(this,ge,t);const n=document.createElement("style");n.textContent=xr,t.append(n,$n.content.cloneNode(!0)),(i=t.querySelector("img"))==null||i.setAttribute("src",Sr),d(this,me,t.querySelector("span.text"))}static get observedAttributes(){return Ir}set loading(t){const n=r(this,ge).querySelector("slot[name=icon]"),i=n==null?void 0:n.assignedNodes()[0];i&&(i.style.display=t?"none":"inline"),t?this.setAttribute("loading",""):this.removeAttribute("loading")}get loading(){return this.hasAttribute("loading")}attributeChangedCallback(t,n,i){switch(t){case"font-size":r(this,me).style.fontSize=i;break}}}ge=new WeakMap,me=new WeakMap;customElements.define(kr,Er);const Cr=""+new URL("one-piece-wanted-ed269d97.png",import.meta.url).href,Be={url:Cr,width:772,height:1154,avatarPosition:{x:74,y:252,width:638,height:484},namePosition:{x:87,y:826,width:585,height:114},bountyPosition:{x:84,y:958,width:584,height:85},bountyFontSize:70,boundaryOffset:{left:10,right:10,top:10,bottom:10},bellySignSize:{width:59,height:83}},Lr=`:host{display:block;height:100%;width:100%;touch-action:none}.container{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}
`;async function Yt(e){return new Promise((s,t)=>{const n=new Image;n.setAttribute("crossorigin","anonymous"),n.onload=()=>s(n),n.onerror=t,n.src=e})}function qi(e,s,t,n){const i=e/t,o=s/n;return Math.min(o,i)}function cn(e,s,t,n,i,o,a=0){const c=a/2,l=t-c,u=n-c,f=t+i+c,p=n+o+c,m=e>=l&&e<=f,y=s>=u&&s<=p;return m&&y}function Pr(e,s,t,n,i,o,a=0){const c=a/2,l=t-c,u=n-c,f=t+i+c,p=n+o+c,m=t+c,y=n+c,w=t+i-c,E=n+o-c;return{left:e>=l&&e<=m,right:e>=w&&e<=f,top:s>=u&&s<=y,bottom:s>=E&&s<=p}}function Wn(e,s){const{actualBoundingBoxAscent:t,actualBoundingBoxDescent:n}=e.measureText(s);return t+n}function _r(e,s){let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",s),t.style.display="none",document.body.appendChild(t),t.click(),t.remove()}function Li(e,s){let t="";for(let n=0;n<s;n++)t+=" ";return Array.from(e).join(t)}class li{constructor(s){B(this,"x",0);B(this,"y",0);B(this,"width",0);B(this,"height",0);B(this,"ctx");this.ctx=s}scale(s){this.x=this.x*s,this.y=this.y*s,this.width=this.width*s,this.height=this.height*s}}const Ar=""+new URL("paper-6a3dae0b.png",import.meta.url).href,ln={x:0,y:0,width:0,height:0};var yt,lt,N,zt,q,be,Nt,ye,Pi;class hn extends li{constructor(){super(...arguments);h(this,ye);h(this,yt,void 0);B(this,"filter","grayscale(35%) sepia(40%) saturate(80%) contrast(105%)");h(this,lt,new Map);h(this,N,null);h(this,zt,null);h(this,q,{...ln});h(this,be,{...ln});h(this,Nt,{left:0,right:0,top:0,bottom:0})}async init(t){d(this,yt,t);try{const n=await Yt(Ar);d(this,zt,this.ctx.createPattern(n,"repeat"))}catch(n){throw console.error(n),new Error("Failed to create fill pattern.")}g(this,ye,Pi).call(this)}async loadImage(t){var n;if(t)try{d(this,N,await Yt(t)),g(this,ye,Pi).call(this),(n=r(this,lt).get("imageloaded"))==null||n.forEach(i=>i())}catch(i){throw console.error(i),new Error("Failed to load avatar image.")}}scale(t){super.scale(t),this.updateRenderPosition()}setWantedImageInfo(t){d(this,yt,t),d(this,Nt,{...t.boundaryOffset}),d(this,q,{...t.avatarPosition})}updateRenderPosition(){if(!r(this,N))return;const t=qi(this.width,this.height,r(this,N).width,r(this,N).height),n=r(this,N).width*t,i=r(this,N).height*t,o=this.x+(this.width-n)/2,a=this.y+(this.height-i)/2;d(this,be,{x:o,y:a,width:n,height:i})}on(t,n){var i;r(this,lt).has(t)||r(this,lt).set(t,[]),(i=r(this,lt).get(t))==null||i.push(n)}off(t,n){const i=r(this,lt).get(t);if(!i)return;const o=i.findIndex(a=>a===n);i.splice(o,1)}render(){if(this.ctx.save(),this.ctx.fillStyle=r(this,zt)?r(this,zt):"none",this.ctx.fillRect(r(this,q).x,r(this,q).y,r(this,q).width,r(this,q).height),!r(this,N)){this.ctx.restore();return}const{x:t,y:n,width:i,height:o}=r(this,be);this.ctx.filter=this.filter,this.ctx.drawImage(r(this,N),t,n,i,o);const{left:a,right:c,top:l,bottom:u}=r(this,Nt);t<=a&&this.ctx.clearRect(0,n,a,o),n<=l&&this.ctx.clearRect(t,0,i,l),t+i>this.ctx.canvas.width-c&&this.ctx.clearRect(this.ctx.canvas.width-c,n,c,o),n+o>this.ctx.canvas.height-u&&this.ctx.clearRect(t,this.ctx.canvas.height-u,i,u),this.ctx.restore()}}yt=new WeakMap,lt=new WeakMap,N=new WeakMap,zt=new WeakMap,q=new WeakMap,be=new WeakMap,Nt=new WeakMap,ye=new WeakSet,Pi=function(){if(!r(this,yt))return;const{avatarPosition:t,boundaryOffset:n}=r(this,yt);this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,d(this,Nt,{...n}),d(this,q,{x:this.x,y:this.y,width:this.width,height:this.height}),this.updateRenderPosition()};var x,wt,T,ht,F,xt,vt,z,St,we,xe,Xe,Dn,Ge,Hn,Ve,Qn,Je,Yn,Ze,Xn,Ke,Gn,ti,Vn,ei,Jn,ve,_i,Se,Ai,ke,Ti,ii,Zn,ni,Kn;class Tr extends li{constructor(t,n){super(t);h(this,Xe);h(this,Ge);h(this,Ve);h(this,Je);h(this,Ze);h(this,Ke);h(this,ti);h(this,ei);h(this,ve);h(this,Se);h(this,ke);h(this,ii);h(this,ni);h(this,x,void 0);h(this,wt,!1);h(this,T,!1);h(this,ht,!1);h(this,F,!1);h(this,xt,4);h(this,vt,null);h(this,z,new Map);h(this,St,0);h(this,we,0);h(this,xe,0);d(this,x,n),n.on("imageloaded",()=>this.reset()),t.canvas.addEventListener("mouseout",g(this,Ge,Hn).bind(this),{passive:!0}),t.canvas.addEventListener("wheel",g(this,Xe,Dn).bind(this),{passive:!0}),t.canvas.addEventListener("pointerdown",g(this,Je,Yn).bind(this),{passive:!0}),t.canvas.addEventListener("pointerup",g(this,Ze,Xn).bind(this),{passive:!0}),t.canvas.addEventListener("pointercancel",g(this,Ke,Gn).bind(this),{passive:!0}),t.canvas.addEventListener("pointermove",g(this,ti,Vn).bind(this),{passive:!0}),t.canvas.addEventListener("pointerout",g(this,ei,Jn).bind(this),{passive:!0})}set highlight(t){d(this,wt,t)}reset(){this.x=r(this,x).x,this.y=r(this,x).y,this.width=r(this,x).width,this.height=r(this,x).height,d(this,T,!1),d(this,ht,!1),d(this,F,!1)}render(){!r(this,T)&&!r(this,F)&&!r(this,wt)||(this.ctx.save(),$i(this,St)._++,r(this,St)>16&&d(this,St,0),this.ctx.lineDashOffset=-r(this,St),this.ctx.fillStyle="rgba(255,255,255,0.5)",this.ctx.strokeStyle="red",this.ctx.lineWidth=r(this,xt),this.ctx.setLineDash([10,5]),this.ctx.fillRect(this.x,this.y,this.width,this.height),this.ctx.strokeRect(this.x,this.y,this.width,this.height),this.ctx.restore())}}x=new WeakMap,wt=new WeakMap,T=new WeakMap,ht=new WeakMap,F=new WeakMap,xt=new WeakMap,vt=new WeakMap,z=new WeakMap,St=new WeakMap,we=new WeakMap,xe=new WeakMap,Xe=new WeakSet,Dn=function(t){const n=t.deltaY>0?.95:1.05;g(this,ke,Ti).call(this,n)},Ge=new WeakSet,Hn=function(){d(this,T,!1)},Ve=new WeakSet,Qn=function(t){const{left:n,top:i}=this.ctx.canvas.getBoundingClientRect(),o=t.clientX-n,a=t.clientY-i;if(r(this,ht)){const c=t.clientX-r(this,we),l=t.clientY-r(this,xe);g(this,ni,Kn).call(this,c,l)}r(this,F)||g(this,ii,Zn).call(this,o,a),cn(o,a,this.x,this.y,this.width,this.height,r(this,xt))?(d(this,T,!0),d(this,wt,!1)):d(this,T,!1),d(this,we,t.clientX),d(this,xe,t.clientY)},Je=new WeakSet,Yn=function(t){if(d(this,wt,!1),t.pointerType==="mouse"&&t.button===0){d(this,ht,!0);return}r(this,z).set(t.pointerId,t);const{left:n,top:i}=this.ctx.canvas.getBoundingClientRect();let o=!1;for(let a of r(this,z).values()){const c=a.clientX-n,l=a.clientY-i;if(cn(c,l,this.x,this.y,this.width,this.height,r(this,xt))){o=!0;break}}d(this,T,o)},Ze=new WeakSet,Xn=function(t){if(t.pointerType==="mouse"&&t.button===0){d(this,ht,!1),d(this,F,!1);return}g(this,ve,_i).call(this,t)},Ke=new WeakSet,Gn=function(t){g(this,ve,_i).call(this,t)},ti=new WeakSet,Vn=function(t){if(t.pointerType==="mouse"){g(this,Ve,Qn).call(this,t);return}const n=Array.from(r(this,z).values());if(n.length===1&&r(this,T)){const i=n[0],{clientX:o,clientY:a}=t,c=r(this,z).get(i.pointerId);if(c){const l=o-c.clientX,u=a-c.clientY;this.x+=l,this.y+=u,r(this,x).x+=l,r(this,x).y+=u,r(this,x).updateRenderPosition()}}if(n.length===2&&r(this,T)){let i=r(this,z).get(n[0].pointerId),o=r(this,z).get(n[1].pointerId);if(i&&o){const a=n[0].pointerId===t.pointerId?n[1]:n[0];let c=g(this,Se,Ai).call(this,a,t),l=g(this,Se,Ai).call(this,i,o),u=c>l?1.02:.98;g(this,ke,Ti).call(this,u)}}r(this,z).set(t.pointerId,t)},ei=new WeakSet,Jn=function(t){t.pointerType==="mouse"&&(d(this,ht,!1),d(this,F,!1))},ve=new WeakSet,_i=function(t){r(this,z).delete(t.pointerId),r(this,z).size||d(this,T,!1)},Se=new WeakSet,Ai=function(t,n){const i=Math.abs(t.clientX-n.clientX),o=Math.abs(t.clientY-n.clientY);return Math.pow(i,2)+Math.pow(o,2)},ke=new WeakSet,Ti=function(t){const n=this.width*t-this.width,i=this.height*t-this.height;this.x=this.x-n/2,this.width=this.width+n,this.y=this.y-i/2,this.height=this.height+i,r(this,x).x=this.x,r(this,x).y=this.y,r(this,x).width=this.width,r(this,x).height=this.height,r(this,x).updateRenderPosition()},ii=new WeakSet,Zn=function(t,n){const i=Pr(t,n,this.x,this.y,this.width,this.height,r(this,xt));i.left||i.right?(this.ctx.canvas.style.cursor="ew-resize",d(this,vt,i.left?"left":"right")):i.top||i.bottom?(this.ctx.canvas.style.cursor="ns-resize",d(this,vt,i.top?"top":"bottom")):r(this,T)?this.ctx.canvas.style.cursor="move":this.ctx.canvas.style.cursor="default"},ni=new WeakSet,Kn=function(t,n){switch(this.ctx.canvas.style.cursor){case"move":this.x+=t,this.y+=n,r(this,x).x+=t,r(this,x).y+=n,r(this,x).updateRenderPosition();break;case"ew-resize":{if(d(this,F,!0),r(this,vt)==="right"){const i=Math.max(this.width+t,1);this.width=i,r(this,x).width=i}else{const i=this.x+t;if(i>=this.x+this.width)break;const o=this.width-t;this.x=i,r(this,x).x=i,this.width=o,r(this,x).width=o}r(this,x).updateRenderPosition();break}case"ns-resize":{if(d(this,F,!0),r(this,vt)==="bottom"){const i=Math.max(this.height+n,1);this.height=i,r(this,x).height=i}else{const i=this.y+n;if(i>=this.y+this.height)break;const o=this.height-n;this.y=i,r(this,x).y=i,this.height=o,r(this,x).height=o}r(this,x).updateRenderPosition()}}};const Rr=""+new URL("belly-af8e0dab.png",import.meta.url).href,ts=""+new URL("text-pattern-9f98d405.png",import.meta.url).href;var Ot,dt,$,Mt,jt,Bt,Ie,Ft,si,Ut,Ee,Ri;class dn extends li{constructor(t){super(t);h(this,Ee);h(this,Ot,"");h(this,dt,"");h(this,$,!0);h(this,Mt,0);h(this,jt,0);h(this,Bt,null);h(this,Ie,void 0);h(this,Ft,null);h(this,si,10);h(this,Ut,null);d(this,Ie,new Intl.NumberFormat)}async init(t){try{d(this,Ft,await Yt(Rr));const n=await Yt(ts);d(this,Bt,this.ctx.createPattern(n,"repeat"))}catch(n){throw console.error(n),new Error("Failed to init bounty.")}this.setPosition(t)}setPosition(t){const{bountyPosition:n,bountyFontSize:i,bellySignSize:o}=t;this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,d(this,jt,i),d(this,Ut,{...o})}set text(t){d(this,Ot,t),g(this,Ee,Ri).call(this)}set spacing(t){d(this,Mt,t),g(this,Ee,Ri).call(this)}render(){if(!r(this,Ft)||!r(this,Ut))return;const{width:t,height:n}=r(this,Ut);this.ctx.save(),this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.fillStyle=r(this,Bt)?r(this,Bt):"none",this.ctx.font=r(this,$)?`600 ${r(this,jt)*.75}px 'Vertiky'`:`900 ${r(this,jt)}px 'Scheherazade New', 'Noto Sans TC', serif`;const i=this.x+this.width/2,o=r(this,$)?t+r(this,si):0,a=Wn(this.ctx,r(this,dt));let c=(this.height-a)/2;r(this,$)&&(c*=.78);const l=i+o/2,u=this.y+c,f=this.width-o;if(this.ctx.fillText(r(this,dt),l,u,f),r(this,$)){const p=Math.min(this.ctx.measureText(r(this,dt)).width,f),m=i-o/2-p/2;this.ctx.drawImage(r(this,Ft),m,this.y,t,n)}this.ctx.restore()}}Ot=new WeakMap,dt=new WeakMap,$=new WeakMap,Mt=new WeakMap,jt=new WeakMap,Bt=new WeakMap,Ie=new WeakMap,Ft=new WeakMap,si=new WeakMap,Ut=new WeakMap,Ee=new WeakSet,Ri=function(){const t=Number.parseFloat(r(this,Ot));if(Number.isNaN(t)){d(this,$,!1),d(this,dt,Li(r(this,Ot),r(this,Mt)));return}d(this,$,!0);const n=r(this,Ie).format(t)+"-";d(this,dt,Li(n,r(this,Mt)))};var Ce,qt,Le,$t,Wt,ri,Pe,zi;class un extends li{constructor(){super(...arguments);h(this,Pe);h(this,Ce,"");h(this,qt,"");h(this,Le,0);h(this,$t,0);h(this,Wt,null);h(this,ri,1.6)}async init(t){try{const n=await Yt(ts);d(this,Wt,this.ctx.createPattern(n,"repeat"))}catch(n){throw console.error(n),new Error("Failed to init Name.")}this.setPosition(t)}setPosition(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,d(this,$t,this.height*r(this,ri))}set text(t){d(this,Ce,t),g(this,Pe,zi).call(this)}set spacing(t){d(this,Le,t),g(this,Pe,zi).call(this)}render(){this.ctx.save(),this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.fillStyle=r(this,Wt)?r(this,Wt):"none",this.ctx.font=`700 ${r(this,$t)}px 'Scheherazade New', 'Noto Sans TC', serif`;const t=Wn(this.ctx,r(this,qt)),n=this.height/t,i=(t-this.height)/2;this.ctx.font=`700 ${Math.floor(r(this,$t)*n)}px 'Scheherazade New', 'Noto Sans TC', serif`,this.ctx.fillText(r(this,qt),this.x+this.width/2,this.y+i,this.width),this.ctx.restore()}}Ce=new WeakMap,qt=new WeakMap,Le=new WeakMap,$t=new WeakMap,Wt=new WeakMap,ri=new WeakMap,Pe=new WeakSet,zi=function(){d(this,qt,Li(r(this,Ce),r(this,Le)))};var W,ut,_e,O,ft,kt,It,D,Dt,oi,es;class fn{constructor(s){h(this,oi);h(this,W,void 0);h(this,ut,void 0);h(this,_e,1);h(this,O,0);h(this,ft,0);h(this,kt,0);h(this,It,0);h(this,D,null);h(this,Dt,null);d(this,W,s),d(this,ut,s.canvas)}get scale(){return r(this,_e)}async loadImage(s){try{const t=await Yt(s.url);d(this,D,t),d(this,kt,t.width),d(this,It,t.height),d(this,Dt,s)}catch(t){throw console.error(t),new Error("Failed to load wanted image.")}}setSize({width:s,height:t,shadowSize:n}){if(!r(this,D))throw new Error("Failed to set size: wanted image is null");d(this,kt,s??r(this,kt)),d(this,It,t??r(this,It)),d(this,ft,n??r(this,ft));const i=r(this,D).width+r(this,ft)*2,o=r(this,D).height+r(this,ft)*2,a=qi(r(this,kt),r(this,It),i,o);return d(this,_e,a),d(this,O,r(this,ft)*a),r(this,ut).width=i*a,r(this,ut).height=o*a,{wantedImageInfo:g(this,oi,es).call(this,a,r(this,O)),scale:a,scaledShadowSize:r(this,O)}}render(){r(this,D)&&(r(this,W).save(),r(this,W).shadowColor="rgba(0, 0, 0, 1)",r(this,W).shadowBlur=r(this,O),r(this,W).drawImage(r(this,D),r(this,O),r(this,O),r(this,ut).width-r(this,O)*2,r(this,ut).height-r(this,O)*2),r(this,W).restore())}}W=new WeakMap,ut=new WeakMap,_e=new WeakMap,O=new WeakMap,ft=new WeakMap,kt=new WeakMap,It=new WeakMap,D=new WeakMap,Dt=new WeakMap,oi=new WeakSet,es=function(s,t){if(!r(this,Dt))throw new Error("Failed to calculate wanted image info: WantedImageInfo object is null");const{url:n,width:i,height:o,avatarPosition:a,namePosition:c,bountyPosition:l,bountyFontSize:u,boundaryOffset:f,bellySignSize:p}=r(this,Dt),m=y=>{const{x:w,y:E,width:Y,height:C}=y;return{x:w*s+t,y:E*s+t,width:Y*s,height:C*s}};return{url:n,width:i,height:o,avatarPosition:m(a),namePosition:m(c),bountyPosition:m(l),bountyFontSize:u*s,boundaryOffset:{left:f.left*s+t,right:f.right*s+t,top:f.top*s+t,bottom:f.bottom*s+t},bellySignSize:{width:p.width*s,height:p.height*s}}};const zr="wanted-poster",Nr=["name","bounty","name-spacing","bounty-spacing","avatar-url","filter","shadow"];var pt,gt,Ae,A,Et,M,j,H,Q,Ht,Te,Qt,qe,Re,Ni,ze,Oi;class Or extends HTMLElement{constructor(){super();h(this,Qt);h(this,Re);h(this,ze);h(this,pt,void 0);h(this,gt,void 0);h(this,Ae,void 0);h(this,A,void 0);h(this,Et,void 0);h(this,M,void 0);h(this,j,void 0);h(this,H,void 0);h(this,Q,void 0);h(this,Ht,void 0);h(this,Te,void 0);d(this,Q,"init");const t=this.attachShadow({mode:"open"}),n=document.createElement("canvas"),i=document.createElement("div");i.className="container",i.appendChild(n);const o=document.createElement("style");o.textContent=Lr,t.append(o,i);const a=n.getContext("2d");d(this,pt,i),d(this,gt,n),d(this,Ae,a),d(this,H,new fn(a)),d(this,A,new hn(a)),d(this,M,new un(a)),d(this,j,new dn(a)),d(this,Et,new Tr(a,r(this,A))),d(this,Ht,new ResizeObserver(()=>{clearTimeout(r(this,Te)),d(this,Te,window.setTimeout(()=>g(this,Re,Ni).call(this),200))})),r(this,Ht).observe(i)}async export(){const t=document.createElement("canvas");t.style.display="none",r(this,pt).appendChild(t);const n=t.getContext("2d"),i=g(this,Qt,qe).call(this),o=new fn(n),a=new hn(n),c=new un(n),l=new dn(n);await o.loadImage(Be);const u=Be.width+i*2,f=Be.height+i*2,{wantedImageInfo:p}=o.setSize({width:u,height:f,shadowSize:i});await a.init(p),await c.init(p.namePosition),await l.init(p),await a.loadImage(this.getAttribute("avatar-url")),c.text=this.getAttribute("name")??"",l.text=this.getAttribute("bounty")??"",c.spacing=parseInt(this.getAttribute("name-spacing")??"0")||0,l.spacing=parseInt(this.getAttribute("bounty-spacing")??"0")||0;const{x:m,y,width:w,height:E,filter:Y}=r(this,A),C=r(this,H).scale;a.x=m/C,a.y=y/C,a.width=w/C,a.height=E/C,a.filter=Y,a.updateRenderPosition(),a.render(),o.render(),l.render(),c.render();try{const k=await new Promise(hi=>{t.toBlob(Gt=>hi(Gt),"image/png",1)});if(!k)throw new Error("blob is null");const Xt=URL.createObjectURL(k);_r(Xt,"wanted-poster.png"),URL.revokeObjectURL(Xt),r(this,pt).removeChild(t)}catch(k){console.error(k),this.dispatchEvent(new CustomEvent("ExportError",{bubbles:!0}))}}static get observedAttributes(){return Nr}async connectedCallback(){console.log("[connected]"),await new Promise(o=>{setTimeout(()=>o(""))}),d(this,Q,"loading");const t=g(this,Qt,qe).call(this),n=r(this,pt).getBoundingClientRect();try{await r(this,H).loadImage(Be);const{wantedImageInfo:o}=r(this,H).setSize({width:n.width,height:n.height,shadowSize:t});await r(this,A).init(o),await r(this,M).init(o.namePosition),await r(this,j).init(o),await r(this,A).loadImage(this.getAttribute("avatar-url"))}catch(o){d(this,Q,"error"),console.error("Failed to init wanted poster.",o);return}r(this,M).text=this.getAttribute("name")??"",r(this,j).text=this.getAttribute("bounty")??"",r(this,M).spacing=parseInt(this.getAttribute("name-spacing")??"0")||0,r(this,j).spacing=parseInt(this.getAttribute("bounty-spacing")??"0")||0;const i=this.getAttribute("filter");i&&(r(this,A).filter=i),d(this,Q,"success"),g(this,ze,Oi).call(this),this.dispatchEvent(new CustomEvent("WantedPosterLoaded",{bubbles:!0}))}disconnectedCallback(){console.log("[disconnected]"),r(this,Ht).disconnect()}adoptedCallback(){console.log("[adopted]")}async attributeChangedCallback(t,n,i){if(r(this,Q)==="success")switch(t){case"name":r(this,M).text=i;break;case"bounty":r(this,j).text=i;break;case"name-spacing":r(this,M).spacing=parseInt(i)||0;break;case"bounty-spacing":r(this,j).spacing=parseInt(i)||0;break;case"avatar-url":{await r(this,A).loadImage(i),r(this,Et).highlight=!Kt.avatarUrls.includes(i);break}case"filter":{r(this,A).filter=i;break}case"shadow":{g(this,Re,Ni).call(this);break}}}}pt=new WeakMap,gt=new WeakMap,Ae=new WeakMap,A=new WeakMap,Et=new WeakMap,M=new WeakMap,j=new WeakMap,H=new WeakMap,Q=new WeakMap,Ht=new WeakMap,Te=new WeakMap,Qt=new WeakSet,qe=function(){const t=this.getAttribute("shadow");if(!t)return 0;const n=Number.parseInt(t);return Number.isNaN(n)?0:n},Re=new WeakSet,Ni=function(){if(r(this,Q)!=="success")return;const t=g(this,Qt,qe).call(this),n=r(this,pt).getBoundingClientRect(),i=qi(n.width,n.height,r(this,gt).width,r(this,gt).height),{wantedImageInfo:o}=r(this,H).setSize({width:n.width,height:n.height,shadowSize:t});r(this,M).setPosition(o.namePosition),r(this,j).setPosition(o),r(this,A).setWantedImageInfo(o),r(this,A).scale(i),r(this,Et).scale(i)},ze=new WeakSet,Oi=function(){r(this,Ae).clearRect(0,0,r(this,gt).width,r(this,gt).height),r(this,A).render(),r(this,H).render(),r(this,j).render(),r(this,M).render(),r(this,Et).render(),requestAnimationFrame(g(this,ze,Oi).bind(this))};customElements.define(zr,Or);
