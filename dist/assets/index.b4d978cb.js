var os=Object.defineProperty;var as=(e,s,t)=>s in e?os(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var U=(e,s,t)=>(as(e,typeof s!="symbol"?s+"":s,t),t),un=(e,s,t)=>{if(!s.has(e))throw TypeError("Cannot "+t)};var r=(e,s,t)=>(un(e,s,"read from private field"),t?t.call(e):s.get(e)),d=(e,s,t)=>{if(s.has(e))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(e):s.set(e,t)},u=(e,s,t,i)=>(un(e,s,"write to private field"),i?i.call(e,t):s.set(e,t),t),Hn=(e,s,t,i)=>({set _(n){u(e,s,n,t)},get _(){return r(e,s,i)}}),b=(e,s,t)=>(un(e,s,"access private method"),t);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();try{self["workbox:window:6.5.3"]&&_()}catch{}function wn(e,s){return new Promise(function(t){var i=new MessageChannel;i.port1.onmessage=function(n){t(n.data)},e.postMessage(s,[i.port2])})}function cs(e,s){for(var t=0;t<s.length;t++){var i=s[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Qn(e,s){(s==null||s>e.length)&&(s=e.length);for(var t=0,i=new Array(s);t<s;t++)i[t]=e[t];return i}function ls(e,s){var t;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(t=function(n,o){if(n){if(typeof n=="string")return Qn(n,o);var a=Object.prototype.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Qn(n,o):void 0}}(e))||s&&e&&typeof e.length=="number"){t&&(e=t);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(t=e[Symbol.iterator]()).next.bind(t)}try{self["workbox:core:6.5.3"]&&_()}catch{}var fn=function(){var e=this;this.promise=new Promise(function(s,t){e.resolve=s,e.reject=t})};function pn(e,s){var t=location.href;return new URL(e,t).href===new URL(s,t).href}var Jt=function(e,s){this.type=e,Object.assign(this,s)};function Me(e,s,t){return t?s?s(e):e:(e&&e.then||(e=Promise.resolve(e)),s?e.then(s):e)}function hs(){}var ds={type:"SKIP_WAITING"};function Yn(e,s){if(!s)return e&&e.then?e.then(hs):Promise.resolve()}var us=function(e){var s,t;function i(c,h){var l,f;return h===void 0&&(h={}),(l=e.call(this)||this).nn={},l.tn=0,l.rn=new fn,l.en=new fn,l.on=new fn,l.un=0,l.an=new Set,l.cn=function(){var p=l.fn,g=p.installing;l.tn>0||!pn(g.scriptURL,l.sn.toString())||performance.now()>l.un+6e4?(l.vn=g,p.removeEventListener("updatefound",l.cn)):(l.hn=g,l.an.add(g),l.rn.resolve(g)),++l.tn,g.addEventListener("statechange",l.ln)},l.ln=function(p){var g=l.fn,m=p.target,y=m.state,R=m===l.vn,N={sw:m,isExternal:R,originalEvent:p};!R&&l.mn&&(N.isUpdate=!0),l.dispatchEvent(new Jt(y,N)),y==="installed"?l.wn=self.setTimeout(function(){y==="installed"&&g.waiting===m&&l.dispatchEvent(new Jt("waiting",N))},200):y==="activating"&&(clearTimeout(l.wn),R||l.en.resolve(m))},l.dn=function(p){var g=l.hn,m=g!==navigator.serviceWorker.controller;l.dispatchEvent(new Jt("controlling",{isExternal:m,originalEvent:p,sw:g,isUpdate:l.mn})),m||l.on.resolve(g)},l.gn=(f=function(p){var g=p.data,m=p.ports,y=p.source;return Me(l.getSW(),function(){l.an.has(y)&&l.dispatchEvent(new Jt("message",{data:g,originalEvent:p,ports:m,sw:y}))})},function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];try{return Promise.resolve(f.apply(this,p))}catch(m){return Promise.reject(m)}}),l.sn=c,l.nn=h,navigator.serviceWorker.addEventListener("message",l.gn),l}t=e,(s=i).prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t;var n,o,a=i.prototype;return a.register=function(c){var h=(c===void 0?{}:c).immediate,l=h!==void 0&&h;try{var f=this;return function(p,g){var m=p();return m&&m.then?m.then(g):g(m)}(function(){if(!l&&document.readyState!=="complete")return Yn(new Promise(function(p){return window.addEventListener("load",p)}))},function(){return f.mn=Boolean(navigator.serviceWorker.controller),f.yn=f.pn(),Me(f.bn(),function(p){f.fn=p,f.yn&&(f.hn=f.yn,f.en.resolve(f.yn),f.on.resolve(f.yn),f.yn.addEventListener("statechange",f.ln,{once:!0}));var g=f.fn.waiting;return g&&pn(g.scriptURL,f.sn.toString())&&(f.hn=g,Promise.resolve().then(function(){f.dispatchEvent(new Jt("waiting",{sw:g,wasWaitingBeforeRegister:!0}))}).then(function(){})),f.hn&&(f.rn.resolve(f.hn),f.an.add(f.hn)),f.fn.addEventListener("updatefound",f.cn),navigator.serviceWorker.addEventListener("controllerchange",f.dn),f.fn})})}catch(p){return Promise.reject(p)}},a.update=function(){try{return this.fn?Yn(this.fn.update()):void 0}catch(c){return Promise.reject(c)}},a.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},a.messageSW=function(c){try{return Me(this.getSW(),function(h){return wn(h,c)})}catch(h){return Promise.reject(h)}},a.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&wn(this.fn.waiting,ds)},a.pn=function(){var c=navigator.serviceWorker.controller;return c&&pn(c.scriptURL,this.sn.toString())?c:void 0},a.bn=function(){try{var c=this;return function(h,l){try{var f=h()}catch(p){return l(p)}return f&&f.then?f.then(void 0,l):f}(function(){return Me(navigator.serviceWorker.register(c.sn,c.nn),function(h){return c.un=performance.now(),h})},function(h){throw h})}catch(h){return Promise.reject(h)}},n=i,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&cs(n.prototype,o),i}(function(){function e(){this.Pn=new Map}var s=e.prototype;return s.addEventListener=function(t,i){this.Sn(t).add(i)},s.removeEventListener=function(t,i){this.Sn(t).delete(i)},s.dispatchEvent=function(t){t.target=this;for(var i,n=ls(this.Sn(t.type));!(i=n()).done;)(0,i.value)(t)},s.Sn=function(t){return this.Pn.has(t)||this.Pn.set(t,new Set),this.Pn.get(t)},e}());function fs(e={}){const{immediate:s=!1,onNeedRefresh:t,onOfflineReady:i,onRegistered:n,onRegisterError:o}=e;let a,c;const h=async(l=!0)=>{l&&(a==null||a.addEventListener("controlling",f=>{f.isUpdate&&window.location.reload()})),c&&c.waiting&&await wn(c.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){a=new us("./service-worker.js",{scope:"./",type:"classic"}),a.addEventListener("activated",l=>{l.isUpdate||i==null||i()});{const l=()=>{t==null||t()};a.addEventListener("waiting",l),a.addEventListener("externalwaiting",l)}a.register({immediate:s}).then(l=>{c=l,n==null||n(l)}).catch(l=>{o==null||o(l)})}return h}fs();/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.2
*/const bi=Object.freeze({left:0,top:0,width:16,height:16}),De=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ne=Object.freeze({...bi,...De}),vn=Object.freeze({...Ne,body:"",hidden:!1}),ps=Object.freeze({width:null,height:null}),yi=Object.freeze({...ps,...De});function gs(e,s=0){const t=e.replace(/^-?[0-9.]*/,"");function i(n){for(;n<0;)n+=4;return n%4}if(t===""){const n=parseInt(e);return isNaN(n)?0:i(n)}else if(t!==e){let n=0;switch(t){case"%":n=25;break;case"deg":n=90}if(n){let o=parseFloat(e.slice(0,e.length-t.length));return isNaN(o)?0:(o=o/n,o%1===0?i(o):0)}}return s}const ms=/[\s,]+/;function bs(e,s){s.split(ms).forEach(t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}const wi={...yi,preserveAspectRatio:""};function Gn(e){const s={...wi},t=(i,n)=>e.getAttribute(i)||n;return s.width=t("width",null),s.height=t("height",null),s.rotate=gs(t("rotate","")),bs(s,t("flip","")),s.preserveAspectRatio=t("preserveAspectRatio",t("preserveaspectratio","")),s}function ys(e,s){for(const t in wi)if(e[t]!==s[t])return!0;return!1}const te=/^[a-z0-9]+(-[a-z0-9]+)*$/,je=(e,s,t,i="")=>{const n=e.split(":");if(e.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;i=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const c=n.pop(),h=n.pop(),l={provider:n.length>0?n[0]:i,prefix:h,name:c};return s&&!We(l)?null:l}const o=n[0],a=o.split("-");if(a.length>1){const c={provider:i,prefix:a.shift(),name:a.join("-")};return s&&!We(c)?null:c}if(t&&i===""){const c={provider:i,prefix:"",name:o};return s&&!We(c,t)?null:c}return null},We=(e,s)=>e?!!((e.provider===""||e.provider.match(te))&&(s&&e.prefix===""||e.prefix.match(te))&&e.name.match(te)):!1;function ws(e,s){const t={};!e.hFlip!=!s.hFlip&&(t.hFlip=!0),!e.vFlip!=!s.vFlip&&(t.vFlip=!0);const i=((e.rotate||0)+(s.rotate||0))%4;return i&&(t.rotate=i),t}function Xn(e,s){const t=ws(e,s);for(const i in vn)i in De?i in e&&!(i in t)&&(t[i]=De[i]):i in s?t[i]=s[i]:i in e&&(t[i]=e[i]);return t}function vs(e,s){const t=e.icons,i=e.aliases||Object.create(null),n=Object.create(null);function o(a){if(t[a])return n[a]=[];if(!(a in n)){n[a]=null;const c=i[a]&&i[a].parent,h=c&&o(c);h&&(n[a]=[c].concat(h))}return n[a]}return(s||Object.keys(t).concat(Object.keys(i))).forEach(o),n}function xs(e,s,t){const i=e.icons,n=e.aliases||Object.create(null);let o={};function a(c){o=Xn(i[c]||n[c],o)}return a(s),t.forEach(a),Xn(e,o)}function vi(e,s){const t=[];if(typeof e!="object"||typeof e.icons!="object")return t;e.not_found instanceof Array&&e.not_found.forEach(n=>{s(n,null),t.push(n)});const i=vs(e);for(const n in i){const o=i[n];o&&(s(n,xs(e,n,o)),t.push(n))}return t}const Ss={provider:"",aliases:{},not_found:{},...bi};function gn(e,s){for(const t in s)if(t in e&&typeof e[t]!=typeof s[t])return!1;return!0}function xi(e){if(typeof e!="object"||e===null)return null;const s=e;if(typeof s.prefix!="string"||!e.icons||typeof e.icons!="object"||!gn(e,Ss))return null;const t=s.icons;for(const n in t){const o=t[n];if(!n.match(te)||typeof o.body!="string"||!gn(o,vn))return null}const i=s.aliases||Object.create(null);for(const n in i){const o=i[n],a=o.parent;if(!n.match(te)||typeof a!="string"||!t[a]&&!i[a]||!gn(o,vn))return null}return s}const He=Object.create(null);function ks(e,s){return{provider:e,prefix:s,icons:Object.create(null),missing:new Set}}function gt(e,s){const t=He[e]||(He[e]=Object.create(null));return t[s]||(t[s]=ks(e,s))}function Fn(e,s){return xi(s)?vi(s,(t,i)=>{i?e.icons[t]=i:e.missing.add(t)}):[]}function Is(e,s,t){try{if(typeof t.body=="string")return e.icons[s]={...t},!0}catch{}return!1}function Es(e,s){let t=[];return(typeof e=="string"?[e]:Object.keys(He)).forEach(n=>{(typeof n=="string"&&typeof s=="string"?[s]:Object.keys(He[n]||{})).forEach(a=>{const c=gt(n,a);t=t.concat(Object.keys(c.icons).map(h=>(n!==""?"@"+n+":":"")+a+":"+h))})}),t}let ne=!1;function Si(e){return typeof e=="boolean"&&(ne=e),ne}function ie(e){const s=typeof e=="string"?je(e,!0,ne):e;if(s){const t=gt(s.provider,s.prefix),i=s.name;return t.icons[i]||(t.missing.has(i)?null:void 0)}}function ki(e,s){const t=je(e,!0,ne);if(!t)return!1;const i=gt(t.provider,t.prefix);return Is(i,t.name,s)}function Kn(e,s){if(typeof e!="object")return!1;if(typeof s!="string"&&(s=e.provider||""),ne&&!s&&!e.prefix){let n=!1;return xi(e)&&(e.prefix="",vi(e,(o,a)=>{a&&ki(o,a)&&(n=!0)})),n}const t=e.prefix;if(!We({provider:s,prefix:t,name:"a"}))return!1;const i=gt(s,t);return!!Fn(i,e)}function Ls(e){return!!ie(e)}function Ps(e){const s=ie(e);return s?{...Ne,...s}:null}function Cs(e){const s={loaded:[],missing:[],pending:[]},t=Object.create(null);e.sort((n,o)=>n.provider!==o.provider?n.provider.localeCompare(o.provider):n.prefix!==o.prefix?n.prefix.localeCompare(o.prefix):n.name.localeCompare(o.name));let i={provider:"",prefix:"",name:""};return e.forEach(n=>{if(i.name===n.name&&i.prefix===n.prefix&&i.provider===n.provider)return;i=n;const o=n.provider,a=n.prefix,c=n.name,h=t[o]||(t[o]=Object.create(null)),l=h[a]||(h[a]=gt(o,a));let f;c in l.icons?f=s.loaded:a===""||l.missing.has(c)?f=s.missing:f=s.pending;const p={provider:o,prefix:a,name:c};f.push(p)}),s}function Ii(e,s){e.forEach(t=>{const i=t.loaderCallbacks;i&&(t.loaderCallbacks=i.filter(n=>n.id!==s))})}function As(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const s=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!s.length)return;let t=!1;const i=e.provider,n=e.prefix;s.forEach(o=>{const a=o.icons,c=a.pending.length;a.pending=a.pending.filter(h=>{if(h.prefix!==n)return!0;const l=h.name;if(e.icons[l])a.loaded.push({provider:i,prefix:n,name:l});else if(e.missing.has(l))a.missing.push({provider:i,prefix:n,name:l});else return t=!0,!0;return!1}),a.pending.length!==c&&(t||Ii([e],o.id),o.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),o.abort))})}))}let _s=0;function Ts(e,s,t){const i=_s++,n=Ii.bind(null,t,i);if(!s.pending.length)return n;const o={id:i,icons:s,callback:e,abort:n};return t.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(o)}),n}const xn=Object.create(null);function Vn(e,s){xn[e]=s}function Sn(e){return xn[e]||xn[""]}function Rs(e,s=!0,t=!1){const i=[];return e.forEach(n=>{const o=typeof n=="string"?je(n,s,t):n;o&&i.push(o)}),i}var zs={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Ns(e,s,t,i){const n=e.resources.length,o=e.random?Math.floor(Math.random()*n):e.index;let a;if(e.random){let v=e.resources.slice(0);for(a=[];v.length>1;){const P=Math.floor(Math.random()*v.length);a.push(v[P]),v=v.slice(0,P).concat(v.slice(P+1))}a=a.concat(v)}else a=e.resources.slice(o).concat(e.resources.slice(0,o));const c=Date.now();let h="pending",l=0,f,p=null,g=[],m=[];typeof i=="function"&&m.push(i);function y(){p&&(clearTimeout(p),p=null)}function R(){h==="pending"&&(h="aborted"),y(),g.forEach(v=>{v.status==="pending"&&(v.status="aborted")}),g=[]}function N(v,P){P&&(m=[]),typeof v=="function"&&m.push(v)}function E(){return{startTime:c,payload:s,status:h,queriesSent:l,queriesPending:g.length,subscribe:N,abort:R}}function I(){h="failed",m.forEach(v=>{v(void 0,f)})}function Vt(){g.forEach(v=>{v.status==="pending"&&(v.status="aborted")}),g=[]}function Oe(v,P,mt){const _t=P!=="success";switch(g=g.filter(bt=>bt!==v),h){case"pending":break;case"failed":if(_t||!e.dataAfterTimeout)return;break;default:return}if(P==="abort"){f=mt,I();return}if(_t){f=mt,g.length||(a.length?At():I());return}if(y(),Vt(),!e.random){const bt=e.resources.indexOf(v.resource);bt!==-1&&bt!==e.index&&(e.index=bt)}h="completed",m.forEach(bt=>{bt(mt)})}function At(){if(h!=="pending")return;y();const v=a.shift();if(v===void 0){if(g.length){p=setTimeout(()=>{y(),h==="pending"&&(Vt(),I())},e.timeout);return}I();return}const P={status:"pending",resource:v,callback:(mt,_t)=>{Oe(P,mt,_t)}};g.push(P),l++,p=setTimeout(At,e.rotate),t(v,s,P.callback)}return setTimeout(At),E}function Ei(e){const s={...zs,...e};let t=[];function i(){t=t.filter(c=>c().status==="pending")}function n(c,h,l){const f=Ns(s,c,h,(p,g)=>{i(),l&&l(p,g)});return t.push(f),f}function o(c){return t.find(h=>c(h))||null}return{query:n,find:o,setIndex:c=>{s.index=c},getIndex:()=>s.index,cleanup:i}}function Un(e){let s;if(typeof e.resources=="string")s=[e.resources];else if(s=e.resources,!(s instanceof Array)||!s.length)return null;return{resources:s,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const ln=Object.create(null),Zt=["https://api.simplesvg.com","https://api.unisvg.com"],qe=[];for(;Zt.length>0;)Zt.length===1||Math.random()>.5?qe.push(Zt.shift()):qe.push(Zt.pop());ln[""]=Un({resources:["https://api.iconify.design"].concat(qe)});function Jn(e,s){const t=Un(s);return t===null?!1:(ln[e]=t,!0)}function hn(e){return ln[e]}function js(){return Object.keys(ln)}function Zn(){}const mn=Object.create(null);function Os(e){if(!mn[e]){const s=hn(e);if(!s)return;const t=Ei(s),i={config:s,redundancy:t};mn[e]=i}return mn[e]}function Li(e,s,t){let i,n;if(typeof e=="string"){const o=Sn(e);if(!o)return t(void 0,424),Zn;n=o.send;const a=Os(e);a&&(i=a.redundancy)}else{const o=Un(e);if(o){i=Ei(o);const a=e.resources?e.resources[0]:"",c=Sn(a);c&&(n=c.send)}}return!i||!n?(t(void 0,424),Zn):i.query(s,n,t)().abort}const ti="iconify2",se="iconify",Pi=se+"-count",ei=se+"-version",Ci=36e5,Ms=168;function kn(e,s){try{return e.getItem(s)}catch{}}function Wn(e,s,t){try{return e.setItem(s,t),!0}catch{}}function ni(e,s){try{e.removeItem(s)}catch{}}function In(e,s){return Wn(e,Pi,s.toString())}function En(e){return parseInt(kn(e,Pi))||0}const Ct={local:!0,session:!0},Ai={local:new Set,session:new Set};let qn=!1;function Bs(e){qn=e}let Be=typeof window>"u"?{}:window;function _i(e){const s=e+"Storage";try{if(Be&&Be[s]&&typeof Be[s].length=="number")return Be[s]}catch{}Ct[e]=!1}function Ti(e,s){const t=_i(e);if(!t)return;const i=kn(t,ei);if(i!==ti){if(i){const c=En(t);for(let h=0;h<c;h++)ni(t,se+h.toString())}Wn(t,ei,ti),In(t,0);return}const n=Math.floor(Date.now()/Ci)-Ms,o=c=>{const h=se+c.toString(),l=kn(t,h);if(typeof l=="string"){try{const f=JSON.parse(l);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>n&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&s(f,c))return!0}catch{}ni(t,h)}};let a=En(t);for(let c=a-1;c>=0;c--)o(c)||(c===a-1?(a--,In(t,a)):Ai[e].add(c))}function Ri(){if(!qn){Bs(!0);for(const e in Ct)Ti(e,s=>{const t=s.data,i=s.provider,n=t.prefix,o=gt(i,n);if(!Fn(o,t).length)return!1;const a=t.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,a):a,!0})}}function Fs(e,s){const t=e.lastModifiedCached;if(t&&t>=s)return t===s;if(e.lastModifiedCached=s,t)for(const i in Ct)Ti(i,n=>{const o=n.data;return n.provider!==e.provider||o.prefix!==e.prefix||o.lastModified===s});return!0}function Us(e,s){qn||Ri();function t(i){let n;if(!Ct[i]||!(n=_i(i)))return;const o=Ai[i];let a;if(o.size)o.delete(a=Array.from(o).shift());else if(a=En(n),!In(n,a+1))return;const c={cached:Math.floor(Date.now()/Ci),provider:e.provider,data:s};return Wn(n,se+a.toString(),JSON.stringify(c))}s.lastModified&&!Fs(e,s.lastModified)||!Object.keys(s.icons).length||(s.not_found&&(s=Object.assign({},s),delete s.not_found),t("local")||t("session"))}function ii(){}function Ws(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,As(e)}))}function qs(e,s){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(s).sort():e.iconsToLoad=s,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:t,prefix:i}=e,n=e.iconsToLoad;delete e.iconsToLoad;let o;if(!n||!(o=Sn(t)))return;o.prepare(t,i,n).forEach(c=>{Li(t,c,h=>{if(typeof h!="object")c.icons.forEach(l=>{e.missing.add(l)});else try{const l=Fn(e,h);if(!l.length)return;const f=e.pendingIcons;f&&l.forEach(p=>{f.delete(p)}),Us(e,h)}catch(l){console.error(l)}Ws(e)})})}))}const $n=(e,s)=>{const t=Rs(e,!0,Si()),i=Cs(t);if(!i.pending.length){let h=!0;return s&&setTimeout(()=>{h&&s(i.loaded,i.missing,i.pending,ii)}),()=>{h=!1}}const n=Object.create(null),o=[];let a,c;return i.pending.forEach(h=>{const{provider:l,prefix:f}=h;if(f===c&&l===a)return;a=l,c=f,o.push(gt(l,f));const p=n[l]||(n[l]=Object.create(null));p[f]||(p[f]=[])}),i.pending.forEach(h=>{const{provider:l,prefix:f,name:p}=h,g=gt(l,f),m=g.pendingIcons||(g.pendingIcons=new Set);m.has(p)||(m.add(p),n[l][f].push(p))}),o.forEach(h=>{const{provider:l,prefix:f}=h;n[l][f].length&&qs(h,n[l][f])}),s?Ts(s,i,o):ii},$s=e=>new Promise((s,t)=>{const i=typeof e=="string"?je(e,!0):e;if(!i){t(e);return}$n([i||e],n=>{if(n.length&&i){const o=ie(i);if(o){s({...Ne,...o});return}}t(e)})});function Ds(e){try{const s=typeof e=="string"?JSON.parse(e):e;if(typeof s.body=="string")return{...s}}catch{}}function Hs(e,s){const t=typeof e=="string"?je(e,!0,!0):null;if(!t){const o=Ds(e);return{value:e,data:o}}const i=ie(t);if(i!==void 0||!t.prefix)return{value:e,name:t,data:i};const n=$n([t],()=>s(e,t,ie(t)));return{value:e,name:t,loading:n}}function bn(e){return e.hasAttribute("inline")}let zi=!1;try{zi=navigator.vendor.indexOf("Apple")===0}catch{}function Qs(e,s){switch(s){case"svg":case"bg":case"mask":return s}return s!=="style"&&(zi||e.indexOf("<a")===-1)?"svg":e.indexOf("currentColor")===-1?"bg":"mask"}const Ys=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Gs=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Ln(e,s,t){if(s===1)return e;if(t=t||100,typeof e=="number")return Math.ceil(e*s*t)/t;if(typeof e!="string")return e;const i=e.split(Ys);if(i===null||!i.length)return e;const n=[];let o=i.shift(),a=Gs.test(o);for(;;){if(a){const c=parseFloat(o);isNaN(c)?n.push(o):n.push(Math.ceil(c*s*t)/t)}else n.push(o);if(o=i.shift(),o===void 0)return n.join("");a=!a}}function Ni(e,s){const t={...Ne,...e},i={...yi,...s},n={left:t.left,top:t.top,width:t.width,height:t.height};let o=t.body;[t,i].forEach(m=>{const y=[],R=m.hFlip,N=m.vFlip;let E=m.rotate;R?N?E+=2:(y.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),y.push("scale(-1 1)"),n.top=n.left=0):N&&(y.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),y.push("scale(1 -1)"),n.top=n.left=0);let I;switch(E<0&&(E-=Math.floor(E/4)*4),E=E%4,E){case 1:I=n.height/2+n.top,y.unshift("rotate(90 "+I.toString()+" "+I.toString()+")");break;case 2:y.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:I=n.width/2+n.left,y.unshift("rotate(-90 "+I.toString()+" "+I.toString()+")");break}E%2===1&&(n.left!==n.top&&(I=n.left,n.left=n.top,n.top=I),n.width!==n.height&&(I=n.width,n.width=n.height,n.height=I)),y.length&&(o='<g transform="'+y.join(" ")+'">'+o+"</g>")});const a=i.width,c=i.height,h=n.width,l=n.height;let f,p;return a===null?(p=c===null?"1em":c==="auto"?l:c,f=Ln(p,h/l)):(f=a==="auto"?h:a,p=c===null?Ln(f,l/h):c==="auto"?l:c),{attributes:{width:f.toString(),height:p.toString(),viewBox:n.left.toString()+" "+n.top.toString()+" "+h.toString()+" "+l.toString()},body:o}}const Xs=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let Qe=Xs();function Ks(e){Qe=e}function Vs(){return Qe}function Js(e,s){const t=hn(e);if(!t)return 0;let i;if(!t.maxURL)i=0;else{let n=0;t.resources.forEach(a=>{n=Math.max(n,a.length)});const o=s+".json?icons=";i=t.maxURL-n-t.path.length-o.length}return i}function Zs(e){return e===404}const tr=(e,s,t)=>{const i=[],n=Js(e,s),o="icons";let a={type:o,provider:e,prefix:s,icons:[]},c=0;return t.forEach((h,l)=>{c+=h.length+1,c>=n&&l>0&&(i.push(a),a={type:o,provider:e,prefix:s,icons:[]},c=h.length),a.icons.push(h)}),i.push(a),i};function er(e){if(typeof e=="string"){const s=hn(e);if(s)return s.path}return"/"}const nr=(e,s,t)=>{if(!Qe){t("abort",424);return}let i=er(s.provider);switch(s.type){case"icons":{const o=s.prefix,c=s.icons.join(","),h=new URLSearchParams({icons:c});i+=o+".json?"+h.toString();break}case"custom":{const o=s.uri;i+=o.slice(0,1)==="/"?o.slice(1):o;break}default:t("abort",400);return}let n=503;Qe(e+i).then(o=>{const a=o.status;if(a!==200){setTimeout(()=>{t(Zs(a)?"abort":"next",a)});return}return n=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?t("abort",o):t("next",n)});return}setTimeout(()=>{t("success",o)})}).catch(()=>{t("next",n)})},ir={prepare:tr,send:nr};function si(e,s){switch(e){case"local":case"session":Ct[e]=s;break;case"all":for(const t in Ct)Ct[t]=s;break}}function ji(){Vn("",ir),Si(!0);let e;try{e=window}catch{}if(e){if(Ri(),e.IconifyPreload!==void 0){const t=e.IconifyPreload,i="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!Kn(n))&&console.error(i)}catch{console.error(i)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(const i in t){const n="IconifyProviders["+i+"] is invalid.";try{const o=t[i];if(typeof o!="object"||!o||o.resources===void 0)continue;Jn(i,o)||console.error(n)}catch{console.error(n)}}}}return{enableCache:t=>si(t,!0),disableCache:t=>si(t,!1),iconExists:Ls,getIcon:Ps,listIcons:Es,addIcon:ki,addCollection:Kn,calculateSize:Ln,buildIcon:Ni,loadIcons:$n,loadIcon:$s,addAPIProvider:Jn,_api:{getAPIConfig:hn,setAPIModule:Vn,sendAPIQuery:Li,setFetch:Ks,getFetch:Vs,listAPIProviders:js}}}function Oi(e,s){let t=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in s)t+=" "+i+'="'+s[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+e+"</svg>"}function sr(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function rr(e){return'url("data:image/svg+xml,'+sr(e)+'")'}const Pn={"background-color":"currentColor"},Mi={"background-color":"transparent"},ri={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},oi={"-webkit-mask":Pn,mask:Pn,background:Mi};for(const e in oi){const s=oi[e];for(const t in ri)s[e+"-"+t]=ri[t]}function ai(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}function or(e,s,t){const i=document.createElement("span");let n=e.body;n.indexOf("<a")!==-1&&(n+="<!-- "+Date.now()+" -->");const o=e.attributes,a=Oi(n,{...o,width:s.width+"",height:s.height+""}),c=rr(a),h=i.style,l={"--svg":c,width:ai(o.width),height:ai(o.height),...t?Pn:Mi};for(const f in l)h.setProperty(f,l[f]);return i}function ar(e){const s=document.createElement("span");return s.innerHTML=Oi(e.body,e.attributes),s.firstChild}function ci(e,s){const t=s.icon.data,i=s.customisations,n=Ni(t,i);i.preserveAspectRatio&&(n.attributes.preserveAspectRatio=i.preserveAspectRatio);const o=s.renderedMode;let a;switch(o){case"svg":a=ar(n);break;default:a=or(n,{...Ne,...t},o==="mask")}const c=Array.from(e.childNodes).find(h=>{const l=h.tagName&&h.tagName.toUpperCase();return l==="SPAN"||l==="SVG"});c?a.tagName==="SPAN"&&c.tagName===a.tagName?c.setAttribute("style",a.getAttribute("style")):e.replaceChild(a,c):e.appendChild(a)}const yn="data-style";function li(e,s){let t=Array.from(e.childNodes).find(i=>i.hasAttribute&&i.hasAttribute(yn));t||(t=document.createElement("style"),t.setAttribute(yn,yn),e.appendChild(t)),t.textContent=":host{display:inline-block;vertical-align:"+(s?"-0.125em":"0")+"}span,svg{display:block}"}function hi(e,s,t){const i=t&&(t.rendered?t:t.lastRender);return{rendered:!1,inline:s,icon:e,lastRender:i}}function cr(e="iconify-icon"){let s,t;try{s=window.customElements,t=window.HTMLElement}catch{return}if(!s||!t)return;const i=s.get(e);if(i)return i;const n=["icon","mode","inline","width","height","rotate","flip"],o=class extends t{constructor(){super();U(this,"_shadowRoot");U(this,"_state");U(this,"_checkQueued",!1);const h=this._shadowRoot=this.attachShadow({mode:"open"}),l=bn(this);li(h,l),this._state=hi({value:""},l),this._queueCheck()}static get observedAttributes(){return n.slice(0)}attributeChangedCallback(h){if(h==="inline"){const l=bn(this),f=this._state;l!==f.inline&&(f.inline=l,li(this._shadowRoot,l))}else this._queueCheck()}get icon(){const h=this.getAttribute("icon");if(h&&h.slice(0,1)==="{")try{return JSON.parse(h)}catch{}return h}set icon(h){typeof h=="object"&&(h=JSON.stringify(h)),this.setAttribute("icon",h)}get inline(){return bn(this)}set inline(h){this.setAttribute("inline",h?"true":null)}restartAnimation(){const h=this._state;if(h.rendered){const l=this._shadowRoot;if(h.renderedMode==="svg")try{l.lastChild.setCurrentTime(0);return}catch{}ci(l,h)}}get status(){const h=this._state;return h.rendered?"rendered":h.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const h=this._state,l=this.getAttribute("icon");if(l!==h.icon.value){this._iconChanged(l);return}if(!h.rendered)return;const f=this.getAttribute("mode"),p=Gn(this);(h.attrMode!==f||ys(h.customisations,p))&&this._renderIcon(h.icon,p,f)}_iconChanged(h){const l=Hs(h,(f,p,g)=>{const m=this._state;if(m.rendered||this.getAttribute("icon")!==f)return;const y={value:f,name:p,data:g};y.data?this._gotIconData(y):m.icon=y});l.data?this._gotIconData(l):this._state=hi(l,this._state.inline,this._state)}_gotIconData(h){this._checkQueued=!1,this._renderIcon(h,Gn(this),this.getAttribute("mode"))}_renderIcon(h,l,f){const p=Qs(h.data.body,f),g=this._state.inline;ci(this._shadowRoot,this._state={rendered:!0,icon:h,inline:g,customisations:l,attrMode:f,renderedMode:p})}};n.forEach(c=>{c in o.prototype||Object.defineProperty(o.prototype,c,{get:function(){return this.getAttribute(c)},set:function(h){this.setAttribute(c,h)}})});const a=ji();for(const c in a)o[c]=o.prototype[c]=a[c];return s.define(e,o),o}cr()||ji();const re=new Map,ee={avatarUrl:"",name:"",bounty:"",nameSpacing:0,bountySpacing:1,filter:"",shadow:0,blur:0,brightness:100,contrast:100,grayscale:0,hueRotate:0,saturate:100,sepia:0};function Cn({blur:e,brightness:s,contrast:t,grayscale:i,hueRotate:n,saturate:o,sepia:a}){return`blur(${e}px) brightness(${s}%) contrast(${t}%) grayscale(${i}%) hue-rotate(${n}deg) saturate(${o}%) sepia(${a}%)`}const w=new Proxy({...ee,filter:Cn(ee)},{set(e,s,t,i){if(!(s in ee))return!1;switch(s){case"blur":case"brightness":case"contrast":case"grayscale":case"hueRotate":case"saturate":case"sepia":const n=Cn({...e,[s]:t});if(n===e.filter)break;e.filter=n,setTimeout(()=>{var a;((a=re.get("filter"))!=null?a:[]).forEach(c=>c("filter",n,e))})}return setTimeout(()=>{var o;((o=re.get(s))!=null?o:[]).forEach(a=>a(s,t,e))}),Reflect.set(e,s,t,i)}});function k(e,s){let t=re.get(e);t||(t=[]),t.push(s),re.set(e,t)}function A(e,s){let t=re.get(e);if(!t)return;const i=t.findIndex(n=>n===s);i>-1&&t.splice(i,1)}function Bi(e={}){Object.assign(w,{...ee,filter:Cn(ee),...e})}const Fi={shadow:5,contrast:105,grayscale:35,saturate:80,sepia:40,name:"PUTLER",bounty:"War Criminal",nameSpacing:0,bountySpacing:1,avatarUrl:"./images/war-criminal.png"},lr=`:host{position:relative;display:block;width:100%;height:100%;background-image:url(./images/cement-wall.jpg);background-blend-mode:multiply;background-size:cover;background-position:center;padding:1rem;box-sizing:border-box;transition:background-color .2s}:host(.warcriminal){background-image:url(./images/cement-wall.jpg),url(./images/blood-stains-0.png)}:host(.dragin){background-color:silver}#uploadInput{display:none}.blood-overlay{position:absolute;width:100%;height:100%;top:0;left:0;opacity:.8;display:none;background-image:url(./images/blood-stains-1.png);background-size:cover;background-position:center;mix-blend-mode:multiply;animation-name:fade-in;animation-duration:4s}.blood-overlay--visible{display:block}.loading-overlay{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center;background-image:radial-gradient(#e1e4e7,#a5aab0)}.loading-overlay__luffy{max-width:50vw;max-height:40vh;filter:drop-shadow(0 3px 3px rgba(0,0,0,.5))}.tips-button{cursor:pointer;position:absolute;left:.8rem;top:.8rem;background-color:transparent;border:0;outline:none;padding:0}.tips-button>svg{transition:.2s;filter:drop-shadow(0 0 2px rgba(0,0,0,.5))}.tips-button>svg:hover{filter:drop-shadow(0 0 3px #c08000) drop-shadow(0 0 5px #fffca3)}.button-container{position:absolute;display:flex;box-sizing:border-box;gap:.5rem;bottom:0;left:0;padding:0 1rem 1rem}.criminal{position:fixed;bottom:1.2rem;right:1rem;outline:none;cursor:pointer;margin-left:auto;width:4rem;height:4rem;max-width:15vw;max-height:15vw;border:0;padding:0;background-color:transparent;visibility:hidden;opacity:0;transition:2s}.criminal--visible{visibility:visible;opacity:1}.criminal.criminal--visible:after{top:55%;opacity:1}.criminal:before{position:absolute;top:0;left:0;content:" ";width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center;transition:filter .5s;background-image:url(./images/criminal-avatar.png);filter:contrast(85%) brightness(0%) drop-shadow(1px 1px .5rem crimson) drop-shadow(-1px -1px .5rem crimson)}.criminal--stamp:before{background-image:url(./images/criminal-stamp.png),url(./images/criminal-avatar.png);filter:contrast(85%) brightness(110%) drop-shadow(1px 1px .1rem rgba(0,0,0,.5)) drop-shadow(-1px -1px .1rem rgba(0,0,0,.5))}.criminal:after{position:absolute;top:120%;left:53%;transform:translate(-50%,-50%);color:#fff;content:"?";font-size:min(7vw,2rem);filter:brightness(100%)!important;transition:1s ease-out;opacity:0}.criminal--stamp:after{content:""}@keyframes fade-in{0%{opacity:0}to{opacity:.8}}
`,hr=`<input id="uploadInput" type="file" accept="image/*">\r
<slot name="poster"></slot>\r
<div class="blood-overlay"></div>\r
\r
<div class="button-container">\r
  <wanted-button id="editButton" aria-label="Edit panel button" title="Open the edit panel.">\r
    <iconify-icon slot="icon" icon="fluent-mdl2:edit-photo"></iconify-icon>\r
    EDIT\r
  </wanted-button>\r
\r
  <wanted-button id="importButton" aria-label="Import button" title="Import local image to edit.">\r
    <iconify-icon slot="icon" icon="uil:image-upload"></iconify-icon>\r
    IMPORT\r
  </wanted-button>\r
\r
  <wanted-button id="exportButton" aria-label="Export button" title="Export as image file.">\r
    <iconify-icon slot="icon" icon="uil:image-download"></iconify-icon>\r
    EXPORT\r
  </wanted-button>\r
</div>\r
\r
<button id="criminalButton" class="criminal" aria-label="Criminal mode button" title="War criminal"></button>\r
\r
<button id="tipsButton" class="tips-button" aria-label="Tips button" title="Tips">\r
  <svg width="32" height="32" viewBox="0 0 25 22">\r
    <defs>\r
      <radialGradient id="logo-gradient" cx="34%" cy="32%" fr="5%">\r
        <stop offset="0%" stop-color="#FFFDA8"></stop>\r
        <stop offset="70%" stop-color="#FFAB00"></stop>\r
      </radialGradient>\r
    </defs>\r
    <path fill="url('#logo-gradient')" stroke="#4E4A49"\r
      d="m22 10l-.625-1.375L20 8l1.375-.625L22 6l.625 1.375L24 8l-1.375.625Zm-3-4l-.95-2.05L16 3l2.05-.95L19 0l.95 2.05L22 3l-2.05.95ZM9 22q-.825 0-1.412-.587Q7 20.825 7 20h4q0 .825-.587 1.413Q9.825 22 9 22Zm-4-3v-2h8v2Zm.25-3q-1.725-1.025-2.737-2.75Q1.5 11.525 1.5 9.5q0-3.125 2.188-5.312Q5.875 2 9 2q3.125 0 5.312 2.188Q16.5 6.375 16.5 9.5q0 2.025-1.012 3.75q-1.013 1.725-2.738 2.75Z" />\r
  </svg>\r
</button>\r
\r
<tips-dialog></tips-dialog>\r
\r
<slot name="editPanel"></slot>\r
<slot></slot>\r
\r
\r
\r
<div class="loading-overlay">\r
  <luffy-logo class="loading-overlay__luffy"></luffy-logo>\r
</div>`,dr="app-container",Fe="#warcriminal",Ui=document.createElement("template");Ui.innerHTML=hr;var oe,ae,Rt,q,ce,le,yt,wt,he,de,C,zt,L,Ye,Wi,Ge,qi,ue,An,X,Tt;class ur extends HTMLElement{constructor(){super();d(this,Ye);d(this,Ge);d(this,ue);d(this,X);d(this,oe,void 0);d(this,ae,void 0);d(this,Rt,void 0);d(this,q,void 0);d(this,ce,void 0);d(this,le,void 0);d(this,yt,void 0);d(this,wt,void 0);d(this,he,void 0);d(this,de,0);d(this,C,void 0);d(this,zt,void 0);d(this,L,void 0);const t=this.attachShadow({mode:"open"});u(this,C,t);const i=document.createElement("style");i.textContent=lr,t.append(i,Ui.content.cloneNode(!0)),t.addEventListener("WantedPosterLoaded",()=>{b(this,Ye,Wi).call(this)});const n=r(this,C).querySelector("slot[name=poster]");u(this,Rt,n==null?void 0:n.assignedNodes()[0]);const o=r(this,C).querySelector("slot[name=editPanel]");u(this,oe,o==null?void 0:o.assignedNodes()[0]),u(this,ae,r(this,C).querySelector("tips-dialog")),u(this,q,r(this,C).querySelector("#uploadInput")),u(this,ce,r(this,C).querySelector("#editButton")),u(this,le,r(this,C).querySelector("#importButton")),u(this,yt,r(this,C).querySelector("#exportButton")),u(this,wt,r(this,C).querySelector("#criminalButton")),u(this,he,r(this,C).querySelector("#tipsButton")),u(this,zt,b(this,Ge,qi).bind(this)),u(this,L,(a,c)=>{switch(a){case"avatarUrl":b(this,X,Tt).call(this,{"avatar-url":c.toString()});break;case"nameSpacing":b(this,X,Tt).call(this,{"name-spacing":c.toString()});break;case"bountySpacing":b(this,X,Tt).call(this,{"bounty-spacing":c.toString()});break;case"name":case"bounty":case"shadow":case"filter":b(this,X,Tt).call(this,{[a]:c.toString()})}}),window.addEventListener("hashchange",r(this,zt))}connectedCallback(){u(this,de,new Date().getTime()),b(this,X,Tt).call(this,{"name-spacing":w.nameSpacing.toString(),"bounty-spacing":w.bountySpacing.toString(),shadow:w.shadow.toString(),filter:w.filter}),k("avatarUrl",r(this,L)),k("name",r(this,L)),k("bounty",r(this,L)),k("nameSpacing",r(this,L)),k("bountySpacing",r(this,L)),k("shadow",r(this,L)),k("filter",r(this,L)),location.hash===Fe&&b(this,ue,An).call(this,!0),this.addEventListener("dragover",t=>{t.preventDefault()}),this.addEventListener("dragenter",()=>{this.classList.add("dragin")}),this.addEventListener("dragleave",()=>{this.classList.remove("dragin")}),this.addEventListener("drop",t=>{var o;t.preventDefault(),this.classList.remove("dragin");const i=(o=t.dataTransfer)==null?void 0:o.files[0];if(!i||!i.type.startsWith("image"))return;const n=URL.createObjectURL(i);w.avatarUrl=n}),r(this,q).addEventListener("input",()=>{const t=r(this,q).files?r(this,q).files[0]:null;if(!t||!t.type.startsWith("image"))return;const i=URL.createObjectURL(t);w.avatarUrl=i}),r(this,ce).addEventListener("click",()=>{r(this,oe).toggle(!0)}),r(this,le).addEventListener("click",()=>{r(this,q).value="",r(this,q).click()}),r(this,yt).addEventListener("click",async()=>{r(this,yt).loading(!0),await r(this,Rt).export(),r(this,yt).loading(!1)}),r(this,wt).addEventListener("click",()=>{const t=location.hash===Fe;location.hash=t?"":Fe}),r(this,he).addEventListener("click",()=>{r(this,ae).toggle()})}disconnectedCallback(){window.removeEventListener("hashchange",r(this,zt)),A("avatarUrl",r(this,L)),A("name",r(this,L)),A("bounty",r(this,L)),A("shadow",r(this,L)),A("filter",r(this,L))}}oe=new WeakMap,ae=new WeakMap,Rt=new WeakMap,q=new WeakMap,ce=new WeakMap,le=new WeakMap,yt=new WeakMap,wt=new WeakMap,he=new WeakMap,de=new WeakMap,C=new WeakMap,zt=new WeakMap,L=new WeakMap,Ye=new WeakSet,Wi=function(){const t=r(this,C).querySelector(".loading-overlay");let i=1e3,n=setInterval(()=>{new Date().getTime()-r(this,de)<i||(clearTimeout(n),t.style.transition="opacity 1s",t.style.opacity="0",setTimeout(()=>t.remove(),1e3),setTimeout(()=>r(this,wt).classList.add("criminal--visible"),1e4))},200)},Ge=new WeakSet,qi=function(){b(this,ue,An).call(this,location.hash===Fe)},ue=new WeakSet,An=function(t){const i=r(this,C).querySelector(".blood-overlay");!i||(this.classList.toggle("warcriminal"),i.classList.toggle("blood-overlay--visible"),r(this,wt).classList.toggle("criminal--stamp"),t&&Bi({...Fi}))},X=new WeakSet,Tt=function(t){var n;const i=Object.keys(t);for(let o of i){const a=(n=t[o])!=null?n:"";r(this,Rt).setAttribute(o,a)}};customElements.define(dr,ur);const fr=`:host{--text-shadow: .1rem .1rem .1rem rgba(0, 0, 0, .5);--element-filter: drop-shadow(2px 0 2px rgba(0, 0, 0, .4)) drop-shadow(-2px 0 2px rgba(0, 0, 0, .4)) contrast(100%) brightness(100%);--element-hover-filter: drop-shadow(3px 0 3px rgba(0, 0, 0, .4)) drop-shadow(-3px 0 3px rgba(0, 0, 0, .5)) contrast(105%) brightness(105%);--element-active-filter: drop-shadow(1px 0 2px rgba(0, 0, 0, .6)) drop-shadow(-1px 0 2px rgba(0, 0, 0, .7)) contrast(105%) brightness(105%);--slider-thumb-size: 2rem;display:block;position:fixed;top:0;left:0;width:18.75rem;max-width:80%;height:100%;transform:translate(-105%);transition:transform .2s;box-shadow:.1rem 0 .3rem #00000080;background:linear-gradient(120deg,rgb(245 198 95),rgb(245 218 158),rgb(245 198 96));border:1px solid #3b230e;padding:.125rem;box-sizing:border-box}:host(.open){transform:translate(0)}.container{display:flex;flex-direction:column;width:100%;height:100%;background:url(./images/wood-bg.png) repeat-y center top;background-size:100% auto;border:.0625rem solid rgb(180,150,81);box-shadow:inset 0 0 .2rem .2rem #0000007f;box-sizing:border-box}.field-container{display:flex;flex-direction:column;gap:2rem;flex:1 0;padding:1rem;overflow-y:auto;overflow-x:hidden}.action-container{display:flex;align-items:center;justify-content:space-around;height:4rem;padding:0 1rem}.wood-button{border:0;font-size:1rem;outline:none;color:#fff;cursor:pointer;background-image:url(./images/wood-button.png);background-color:transparent;background-size:100% 100%;background-repeat:no-repeat;background-position:center;width:6rem;height:2rem;display:flex;align-items:center;justify-content:center;color:#fffc;text-shadow:var(--text-shadow);filter:var(--element-filter);transition:.05s}.wood-button:hover{filter:var(--element-hover-filter)}.close-button{border:0;outline:none;cursor:pointer;background-image:url(./images/close-button.png);background-color:transparent;background-size:100% 100%;background-repeat:no-repeat;background-position:center;width:2rem;height:2rem;filter:var(--element-filter);transition:.1s}.close-button:hover{filter:var(--element-hover-filter)}.wood-button:active,.close-button:active{filter:var(--element-active-filter);transform:translateY(1px)}.text-input{border:0;outline:none;color:#584034;background-image:url(./images/input-frame.png);background-color:transparent;background-size:100% 100%;background-repeat:no-repeat;background-position:center;text-align:center;line-height:4rem;font-size:2rem;padding:0 1rem;text-shadow:var(--text-shadow);filter:var(--element-filter)}.text-input::placeholder{color:#0000004d;font-size:2rem;text-shadow:none}.slider{display:flex;flex-direction:column;align-items:center}.slider__label{font-family:sans-serif;color:#584034;font-size:.75rem;background-image:url(./images/scroll-paper.png);background-color:transparent;background-size:100% 100%;background-repeat:no-repeat;background-position:center;width:10.5rem;height:2rem;display:inline-flex;align-items:center;justify-content:center;padding-bottom:.1rem;box-sizing:border-box;margin:0;position:relative}.slider__input{appearance:none;width:100%;height:2.5rem;background:transparent;outline:none}.slider__input::-webkit-slider-runnable-track{height:.75rem;background-color:#584034;border:1px solid rgba(0,0,0,.8);box-shadow:0 0 3px 1px #000c;border-radius:.1rem}.slider__input::-moz-range-track{height:.75rem;background-color:#584034;border:1px solid rgba(0,0,0,.8);box-shadow:0 0 3px 1px #000c;border-radius:.1rem}.slider__input::-webkit-slider-thumb{appearance:none;position:relative;top:-.75rem;width:var(--slider-thumb-size);height:var(--slider-thumb-size);border:0;background:url(./images/slider-thumb.png);background-color:transparent;background-size:cover;background-repeat:no-repeat;background-position:center;cursor:pointer;filter:var(--element-filter);transition:filter .05s}.slider__input::-webkit-slider-thumb:hover{filter:var(--element-hover-filter)}.slider__input::-moz-range-thumb{position:relative;top:-.75rem;width:var(--slider-thumb-size);height:var(--slider-thumb-size);border:0;background:url(./images/slider-thumb.png);background-color:transparent;background-size:cover;background-repeat:no-repeat;background-position:center;cursor:pointer;filter:var(--element-filter)}::selection{color:#fff;background:rgba(88,64,52,.8);filter:brightness(120%)}::-webkit-scrollbar{width:.2rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#f5d58d;border-radius:.1rem}::-webkit-scrollbar-corner{background:transparent}
`,pr=`<div class="container">\r
  <div class="field-container">\r
    <input id="nameInput" class="text-input" placeholder="Name" />\r
    <input id="bountyInput" class="text-input" placeholder="Bounty" />\r
\r
    <div class="slider">\r
      <label for="nameSpacingSlider" class="slider__label">Name Text Spacing</label>\r
      <input id="nameSpacingSlider" class="slider__input" type="range" min="0" max="3">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="bountySpacingSlider" class="slider__label">Bounty Text Spacing</label>\r
      <input id="bountySpacingSlider" class="slider__input" type="range" min="0" max="3">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="shadowSlider" class="slider__label">Shadow</label>\r
      <input id="shadowSlider" class="slider__input" type="range" min="0" max="20">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="blurSlider" class="slider__label">Blur</label>\r
      <input id="blurSlider" class="slider__input" type="range" min="0" max="10">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="brightnessSlider" class="slider__label">Brightness</label>\r
      <input id="brightnessSlider" class="slider__input" type="range" min="0" max="200">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="contrastSlider" class="slider__label">Contrast</label>\r
      <input id="contrastSlider" class="slider__input" type="range" min="0" max="200">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="grayscaleSlider" class="slider__label">Grayscale</label>\r
      <input id="grayscaleSlider" class="slider__input" type="range" min="0" max="100">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="hueRotateSlider" class="slider__label">Hue Rotate</label>\r
      <input id="hueRotateSlider" class="slider__input" type="range" min="0" max="360">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="saturateSlider" class="slider__label">Saturate</label>\r
      <input id="saturateSlider" class="slider__input" type="range" min="0" max="200">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="sepiaSlider" class="slider__label">Sepia</label>\r
      <input id="sepiaSlider" class="slider__input" type="range" min="0" max="100">\r
    </div>\r
  </div>\r
  <div class="action-container">\r
    <button id="closeButton" class="close-button" aria-label="Close edit panel button" title="Close"></button>\r
    <button id="resetButton" class="wood-button" aria-label="Reset button"\r
      title="Reset to default settings.">RESET</button>\r
  </div>\r
</div>`,gr="edit-panel",$i=document.createElement("template");$i.innerHTML=pr;var Nt,K,V,J,Z,tt,et,nt,it,st,rt,ot,at,fe,pe,jt,S;class mr extends HTMLElement{constructor(){super();d(this,Nt,!1);d(this,K,void 0);d(this,V,void 0);d(this,J,void 0);d(this,Z,void 0);d(this,tt,void 0);d(this,et,void 0);d(this,nt,void 0);d(this,it,void 0);d(this,st,void 0);d(this,rt,void 0);d(this,ot,void 0);d(this,at,void 0);d(this,fe,void 0);d(this,pe,void 0);d(this,jt,void 0);d(this,S,void 0);const t=this.attachShadow({mode:"open"}),i=document.createElement("style");i.textContent=fr,t.append(i,$i.content.cloneNode(!0)),u(this,K,t.querySelector("#nameInput")),u(this,V,t.querySelector("#bountyInput")),u(this,J,t.querySelector("#nameSpacingSlider")),u(this,Z,t.querySelector("#bountySpacingSlider")),u(this,tt,t.querySelector("#shadowSlider")),u(this,et,t.querySelector("#blurSlider")),u(this,nt,t.querySelector("#brightnessSlider")),u(this,it,t.querySelector("#contrastSlider")),u(this,st,t.querySelector("#grayscaleSlider")),u(this,rt,t.querySelector("#hueRotateSlider")),u(this,ot,t.querySelector("#saturateSlider")),u(this,at,t.querySelector("#sepiaSlider")),u(this,fe,t.querySelector("#closeButton")),u(this,pe,t.querySelector("#resetButton")),u(this,S,(n,o)=>{switch(o=o.toString(),n){case"name":r(this,K).value=o;break;case"bounty":r(this,V).value=o;break;case"nameSpacing":r(this,J).value=o;break;case"bountySpacing":r(this,Z).value=o;break;case"shadow":r(this,tt).value=o;break;case"blur":r(this,et).value=o;break;case"brightness":r(this,nt).value=o;break;case"contrast":r(this,it).value=o;break;case"grayscale":r(this,st).value=o;break;case"hueRotate":r(this,rt).value=o;break;case"saturate":r(this,ot).value=o;break;case"sepia":r(this,at).value=o;break}}),u(this,jt,n=>{n.target instanceof Node&&this.contains(n.target)||this.toggle(!1)})}toggle(t){if(t){u(this,Nt,!0),this.classList.add("open"),setTimeout(()=>{u(this,Nt,!1)},200);return}!r(this,Nt)&&this.classList.remove("open")}connectedCallback(){window.addEventListener("pointerdown",r(this,jt)),k("name",r(this,S)),k("bounty",r(this,S)),k("nameSpacing",r(this,S)),k("bountySpacing",r(this,S)),k("shadow",r(this,S)),k("blur",r(this,S)),k("saturate",r(this,S)),k("contrast",r(this,S)),k("grayscale",r(this,S)),k("hueRotate",r(this,S)),k("hueRotate",r(this,S)),k("sepia",r(this,S)),r(this,K).value=w.name,r(this,V).value=w.bounty.toString(),r(this,J).value=w.nameSpacing.toString(),r(this,Z).value=w.bountySpacing.toString(),r(this,tt).value=w.shadow.toString(),r(this,et).value=w.blur.toString(),r(this,nt).value=w.brightness.toString(),r(this,it).value=w.contrast.toString(),r(this,st).value=w.grayscale.toString(),r(this,rt).value=w.hueRotate.toString(),r(this,ot).value=w.saturate.toString(),r(this,at).value=w.sepia.toString(),r(this,K).addEventListener("input",()=>w.name=r(this,K).value),r(this,V).addEventListener("input",()=>w.bounty=r(this,V).value),r(this,J).addEventListener("input",()=>w.nameSpacing=parseInt(r(this,J).value)),r(this,Z).addEventListener("input",()=>w.bountySpacing=parseInt(r(this,Z).value)),r(this,tt).addEventListener("input",()=>w.shadow=parseInt(r(this,tt).value)),r(this,et).addEventListener("input",()=>w.blur=parseInt(r(this,et).value)),r(this,nt).addEventListener("input",()=>w.brightness=parseInt(r(this,nt).value)),r(this,it).addEventListener("input",()=>w.contrast=parseInt(r(this,it).value)),r(this,st).addEventListener("input",()=>w.grayscale=parseInt(r(this,st).value)),r(this,rt).addEventListener("input",()=>w.hueRotate=parseInt(r(this,rt).value)),r(this,ot).addEventListener("input",()=>w.saturate=parseInt(r(this,ot).value)),r(this,at).addEventListener("input",()=>w.sepia=parseInt(r(this,at).value)),r(this,fe).addEventListener("click",()=>this.toggle(!1)),r(this,pe).addEventListener("click",()=>Bi({avatarUrl:w.avatarUrl}))}disconnectedCallback(){window.removeEventListener("pointerdown",r(this,jt)),A("name",r(this,S)),A("bounty",r(this,S)),A("shadow",r(this,S)),A("blur",r(this,S)),A("saturate",r(this,S)),A("contrast",r(this,S)),A("grayscale",r(this,S)),A("hueRotate",r(this,S)),A("hueRotate",r(this,S)),A("sepia",r(this,S))}}Nt=new WeakMap,K=new WeakMap,V=new WeakMap,J=new WeakMap,Z=new WeakMap,tt=new WeakMap,et=new WeakMap,nt=new WeakMap,it=new WeakMap,st=new WeakMap,rt=new WeakMap,ot=new WeakMap,at=new WeakMap,fe=new WeakMap,pe=new WeakMap,jt=new WeakMap,S=new WeakMap;customElements.define(gr,mr);const br=`:host{position:relative;width:317px;height:298px;display:flex;justify-content:center;align-items:center}.bottom-img{display:block;max-width:100%;max-height:100%;object-fit:contain;aspect-ratio:317/298}.top-img{position:absolute;left:0;right:0;top:0;bottom:0;margin:auto;max-width:100%;max-height:100%;animation-name:flicker;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:linear;filter:brightness(1.8);-webkit-mask-image:linear-gradient(90deg,rgba(0,0,0,0) 35%,rgba(255,255,255,1) 50%,rgba(0,0,0,0) 65%);mask-image:linear-gradient(90deg,rgba(0,0,0,0) 35%,rgba(255,255,255,1) 50%,rgba(0,0,0,0) 65%);-webkit-mask-size:300% 100%;mask-size:300% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}@keyframes flicker{0%{-webkit-mask-position:150% 0%;mask-position:150% 0%}30%{-webkit-mask-position:-150% 0%;mask-position:-150% 0%}to{-webkit-mask-position:-150% 0%;mask-position:-150% 0%}}
`,yr=`<img class="bottom-img" src="./images/luffy.png" alt="luffy avatar" />\r
<img class="top-img" src="./images/luffy.png" alt="luffy avatar" />`,wr="luffy-logo",Di=document.createElement("template");Di.innerHTML=yr;class vr extends HTMLElement{constructor(){super();const s=this.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=br,s.append(t,Di.content.cloneNode(!0))}}customElements.define(wr,vr);const xr=`:host{--text-color: rgb(77, 50, 46)}:host{display:block;position:fixed;font-size:.8rem;margin-top:3rem;margin-left:.5rem;left:0;top:0;opacity:0;transition:.2s;visibility:hidden;max-width:100vw;color:var(--text-color);box-sizing:border-box;width:17.62rem;height:26.33rem;filter:drop-shadow(0 0 5px rgba(0,0,0,.6));padding:1rem .8rem 1rem 1rem;background-image:url(./images/tips-paper.png);background-repeat:no-repeat;background-size:contain}:host([open]){visibility:visible;opacity:1}.content{overflow:auto;height:100%}.content h3{border-bottom:1px solid var(--text-color)}.content *{margin-block-start:.5em;margin-block-end:1em}a{position:relative;outline:none;text-decoration:none}a:after{content:" ";position:absolute;border-bottom:.2rem solid rgba(211,255,77,.5);height:1px;width:100%;bottom:0;left:0}a:link{color:#009637}a:visited{color:#558f6a}::-webkit-scrollbar{width:.1rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--text-color);border-radius:.1rem}::-webkit-scrollbar-corner{background:transparent}
`,Sr=`<div class="content">\r
\r
  <h3>Import image as the wanted photo</h3>\r
  <p>\r
    Click <b>IMPORT</b> button to choose an image from your device storage, or drag and drop the image anywhere on this\r
    page.\r
  </p>\r
\r
  <h3>Adjust the position of the photo</h3>\r
  <p>\r
    After importing the image, click(or touch) and drag the photo to adjust the position.\r
  </p>\r
\r
  <h3>Resize photo</h3>\r
  <p>\r
    - Move your cursor over the photo, and scroll the mouse wheel to zoom in or zoom out.\r
  </p>\r
  <p>\r
    - For the touch screen device, touch two fingers on the top of the photo, and move them apart to zoom in, or\r
    together to\r
    zoom out.\r
  </p>\r
\r
  <h3>Name and Bounty</h3>\r
  <P>\r
    Click <b>EDIT</b> button to open the edit panel, the first\r
    input field in the edit panel is name, and the second input field is bounty.\r
  </P>\r
  <p>\r
    You can input any text for both of them, however if you input number in the bounty field, the Belly sign will be\r
    rendered in the front of the bounty text, and decimal comma will automatically insert in the text.\r
  </p>\r
\r
  <h3>Install this app on your device</h3>\r
  <p>\r
    <b>NOTE: For now, only Chrome and Edge support this feature.</b>\r
  </p>\r
  <p>\r
    This web application support <a href="https://en.wikipedia.org/wiki/Progressive_web_app" target="_blank">PWA</a>,\r
    which means you can\r
    install it as a native app on your device, and launch it directly without opening the browser.\r
\r
  </p>\r
  <p>\r
    Check out the <a href="https://support.google.com/chrome/answer/9658361?hl=en&co=GENIE.Platform%3DDesktop"\r
      target="_blank">installation guide</a>.</p>\r
\r
</div>`,kr="tips-dialog",Hi=document.createElement("template");Hi.innerHTML=Sr;class Ir extends HTMLElement{constructor(){super();const s=this.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=xr,s.append(t,Hi.content.cloneNode(!0))}toggle(){this.hasAttribute("open")?this.removeAttribute("open"):this.setAttribute("open","")}}customElements.define(kr,Ir);const Er=`:host{outline:none;display:inline-flex;position:relative;cursor:pointer;width:4.25rem;height:5rem;background-color:transparent;transition:.05s;justify-content:center;filter:contrast(100%) brightness(100%) drop-shadow(1px 1px 1px rgba(0,0,0,.5)) drop-shadow(-1px -1px 1px rgba(0,0,0,.5))}:host(:hover){filter:contrast(105%) brightness(105%) drop-shadow(1px 4px 3px rgba(0,0,0,.5)) drop-shadow(-1px 0px 3px rgba(0,0,0,.5))}:host(:active){transform:translateY(1px);filter:contrast(105%) brightness(105%) drop-shadow(1px 2px 1px rgba(0,0,0,.6)) drop-shadow(-1px 0px 1px rgba(0,0,0,.6))}.img{position:absolute;max-width:100%;max-height:100%}.icon{position:absolute;font-size:1.5rem;color:#513721;display:flex;justify-content:center;align-items:center;top:21%;width:82%;height:44%;box-sizing:border-box}iconify-icon{display:none}:host([loading]) iconify-icon{display:inline}.text{font-size:.9rem;position:absolute;display:flex;justify-content:center;align-items:center;font-family:Scheherazade New,Noto Sans TC,sans-serif;color:#513721;bottom:12%;width:85%;height:20%;white-space:nowrap;overflow:hidden;font-weight:900;text-align:justify;box-sizing:border-box}
`,Lr=`<img class="img" alt="button image" />\r
<div class="icon">\r
  <slot name="icon"></slot>\r
  <iconify-icon icon="eos-icons:loading"></iconify-icon>\r
</div>\r
<span class="text">\r
  <slot></slot>\r
</span>`,Pr=""+new URL("wanted.c2a6dd7a.png",import.meta.url).href,Cr="wanted-button",Ar=["font-size"],Qi=document.createElement("template");Qi.innerHTML=Lr;var ge,me;class _r extends HTMLElement{constructor(){var n;super();d(this,ge,void 0);d(this,me,void 0);const t=this.attachShadow({mode:"open"});u(this,ge,t);const i=document.createElement("style");i.textContent=Er,t.append(i,Qi.content.cloneNode(!0)),(n=t.querySelector("img"))==null||n.setAttribute("src",Pr),u(this,me,t.querySelector("span.text"))}static get observedAttributes(){return Ar}loading(t){const i=r(this,ge).querySelector("slot[name=icon]"),n=i==null?void 0:i.assignedNodes()[0];n&&(n.style.display=t?"none":"inline"),t?this.setAttribute("loading",""):this.removeAttribute("loading")}attributeChangedCallback(t,i,n){switch(t){case"font-size":r(this,me).style.fontSize=n;break}}}ge=new WeakMap,me=new WeakMap;customElements.define(Cr,_r);async function Kt(e){return new Promise((s,t)=>{const i=new Image;i.setAttribute("crossorigin","anonymous"),i.onload=()=>s(i),i.onerror=t,i.src=e})}function Dn(e,s,t,i){const n=e/t,o=s/i;return Math.min(o,n)}function di(e,s,t,i,n,o,a=0){const c=a/2,h=t-c,l=i-c,f=t+n+c,p=i+o+c,g=e>=h&&e<=f,m=s>=l&&s<=p;return g&&m}function Tr(e,s,t,i,n,o,a=0){const c=a/2,h=t-c,l=i-c,f=t+n+c,p=i+o+c,g=t+c,m=i+c,y=t+n-c,R=i+o-c;return{left:e>=h&&e<=g,right:e>=y&&e<=f,top:s>=l&&s<=m,bottom:s>=R&&s<=p}}function Yi(e,s){const{actualBoundingBoxAscent:t,actualBoundingBoxDescent:i}=e.measureText(s);return t+i}function Rr(e,s){let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",s),t.style.display="none",document.body.appendChild(t),t.click(),t.remove()}function _n(e,s){let t="";for(let i=0;i<s;i++)t+=" ";return Array.from(e).join(t)}const zr=`:host{display:block;height:100%;width:100%;touch-action:none}.container{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}
`,Nr=""+new URL("one-piece-wanted.ed269d97.png",import.meta.url).href,Ue={url:Nr,width:772,height:1154,avatarPosition:{x:74,y:252,width:638,height:484},namePosition:{x:87,y:826,width:585,height:114},bountyPosition:{x:84,y:958,width:584,height:85},bountyFontSize:70,boundaryOffset:{left:10,right:10,top:10,bottom:10},bellySignSize:{width:59,height:83}};class dn{constructor(s){U(this,"x",0);U(this,"y",0);U(this,"width",0);U(this,"height",0);U(this,"ctx");this.ctx=s}scale(s){this.x=this.x*s,this.y=this.y*s,this.width=this.width*s,this.height=this.height*s}}const Gi=""+new URL("text-pattern.9f98d405.png",import.meta.url).href;var be,Ot,ye,Mt,Bt,Xe,we,Tn;class ui extends dn{constructor(){super(...arguments);d(this,we);d(this,be,"");d(this,Ot,"");d(this,ye,0);d(this,Mt,0);d(this,Bt,null);d(this,Xe,1.6)}async init(t){try{const i=await Kt(Gi);u(this,Bt,this.ctx.createPattern(i,"repeat"))}catch(i){throw console.error(i),new Error("Failed to init Name.")}this.setPosition(t)}setPosition(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,u(this,Mt,this.height*r(this,Xe))}set text(t){u(this,be,t),b(this,we,Tn).call(this)}set spacing(t){u(this,ye,t),b(this,we,Tn).call(this)}render(){this.ctx.save(),this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.fillStyle=r(this,Bt)?r(this,Bt):"none",this.ctx.font=`700 ${r(this,Mt)}px 'Scheherazade New', 'Noto Sans TC', serif`;const t=Yi(this.ctx,r(this,Ot)),i=this.height/t,n=(t-this.height)/2;this.ctx.font=`700 ${Math.floor(r(this,Mt)*i)}px 'Scheherazade New', 'Noto Sans TC', serif`,this.ctx.fillText(r(this,Ot),this.x+this.width/2,this.y+n,this.width),this.ctx.restore()}}be=new WeakMap,Ot=new WeakMap,ye=new WeakMap,Mt=new WeakMap,Bt=new WeakMap,Xe=new WeakMap,we=new WeakSet,Tn=function(){u(this,Ot,_n(r(this,be),r(this,ye)))};const jr=""+new URL("paper.6a3dae0b.png",import.meta.url).href,fi={x:0,y:0,width:0,height:0};var vt,ct,O,Ft,$,ve,Ut,xe,Rn;class pi extends dn{constructor(){super(...arguments);d(this,xe);d(this,vt,void 0);U(this,"filter","grayscale(35%) sepia(40%) saturate(80%) contrast(105%)");d(this,ct,new Map);d(this,O,null);d(this,Ft,null);d(this,$,{...fi});d(this,ve,{...fi});d(this,Ut,{left:0,right:0,top:0,bottom:0})}async init(t){u(this,vt,t);try{const i=await Kt(jr);u(this,Ft,this.ctx.createPattern(i,"repeat"))}catch(i){throw console.error(i),new Error("Failed to create fill pattern.")}b(this,xe,Rn).call(this)}async loadImage(t){var i;if(!!t)try{u(this,O,await Kt(t)),b(this,xe,Rn).call(this),(i=r(this,ct).get("imageloaded"))==null||i.forEach(n=>n())}catch(n){throw console.error(n),new Error("Failed to load avatar image.")}}scale(t){super.scale(t),this.updateRenderPosition()}setWantedImageInfo(t){u(this,vt,t),u(this,Ut,{...t.boundaryOffset}),u(this,$,{...t.avatarPosition})}updateRenderPosition(){if(!r(this,O))return;const t=Dn(this.width,this.height,r(this,O).width,r(this,O).height),i=r(this,O).width*t,n=r(this,O).height*t,o=this.x+(this.width-i)/2,a=this.y+(this.height-n)/2;u(this,ve,{x:o,y:a,width:i,height:n})}on(t,i){var n;r(this,ct).has(t)||r(this,ct).set(t,[]),(n=r(this,ct).get(t))==null||n.push(i)}off(t,i){const n=r(this,ct).get(t);if(!n)return;const o=n.findIndex(a=>a===i);n.splice(o,1)}render(){if(this.ctx.save(),this.ctx.fillStyle=r(this,Ft)?r(this,Ft):"none",this.ctx.fillRect(r(this,$).x,r(this,$).y,r(this,$).width,r(this,$).height),!r(this,O)){this.ctx.restore();return}const{x:t,y:i,width:n,height:o}=r(this,ve);this.ctx.filter=this.filter,this.ctx.drawImage(r(this,O),t,i,n,o);const{left:a,right:c,top:h,bottom:l}=r(this,Ut);t<=a&&this.ctx.clearRect(0,i,a,o),i<=h&&this.ctx.clearRect(t,0,n,h),t+n>this.ctx.canvas.width-c&&this.ctx.clearRect(this.ctx.canvas.width-c,i,c,o),i+o>this.ctx.canvas.height-l&&this.ctx.clearRect(t,this.ctx.canvas.height-l,n,l),this.ctx.canvas.width,this.ctx.restore()}}vt=new WeakMap,ct=new WeakMap,O=new WeakMap,Ft=new WeakMap,$=new WeakMap,ve=new WeakMap,Ut=new WeakMap,xe=new WeakSet,Rn=function(){if(!r(this,vt))return;const{avatarPosition:t,boundaryOffset:i}=r(this,vt);this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,u(this,Ut,{...i}),u(this,$,{x:this.x,y:this.y,width:this.width,height:this.height}),this.updateRenderPosition()};const Or=""+new URL("belly.af8e0dab.png",import.meta.url).href;var Wt,lt,D,qt,$t,Dt,Se,Ht,Ke,Qt,ke,zn;class gi extends dn{constructor(t){super(t);d(this,ke);d(this,Wt,"");d(this,lt,"");d(this,D,!0);d(this,qt,0);d(this,$t,0);d(this,Dt,null);d(this,Se,void 0);d(this,Ht,null);d(this,Ke,10);d(this,Qt,null);u(this,Se,new Intl.NumberFormat)}async init(t){try{u(this,Ht,await Kt(Or));const i=await Kt(Gi);u(this,Dt,this.ctx.createPattern(i,"repeat"))}catch(i){throw console.error(i),new Error("Failed to init bounty.")}this.setPosition(t)}setPosition(t){const{bountyPosition:i,bountyFontSize:n,bellySignSize:o}=t;this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height,u(this,$t,n),u(this,Qt,{...o})}set text(t){u(this,Wt,t),b(this,ke,zn).call(this)}set spacing(t){u(this,qt,t),b(this,ke,zn).call(this)}render(){if(!r(this,Ht)||!r(this,Qt))return;const{width:t,height:i}=r(this,Qt);this.ctx.save(),this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.fillStyle=r(this,Dt)?r(this,Dt):"none",this.ctx.font=r(this,D)?`600 ${r(this,$t)*.75}px 'Vertiky'`:`900 ${r(this,$t)}px 'Scheherazade New', 'Noto Sans TC', serif`;const n=this.x+this.width/2,o=r(this,D)?t+r(this,Ke):0,a=Yi(this.ctx,r(this,lt));let c=(this.height-a)/2;r(this,D)&&(c*=.78);const h=n+o/2,l=this.y+c,f=this.width-o;if(this.ctx.fillText(r(this,lt),h,l,f),r(this,D)){const p=Math.min(this.ctx.measureText(r(this,lt)).width,f),g=n-o/2-p/2;this.ctx.drawImage(r(this,Ht),g,this.y,t,i)}this.ctx.restore()}}Wt=new WeakMap,lt=new WeakMap,D=new WeakMap,qt=new WeakMap,$t=new WeakMap,Dt=new WeakMap,Se=new WeakMap,Ht=new WeakMap,Ke=new WeakMap,Qt=new WeakMap,ke=new WeakSet,zn=function(){const t=Number.parseFloat(r(this,Wt));if(Number.isNaN(t)){u(this,D,!1),u(this,lt,_n(r(this,Wt),r(this,qt)));return}u(this,D,!0);const i=r(this,Se).format(t)+"-";u(this,lt,_n(i,r(this,qt)))};var H,ht,Ie,M,dt,xt,St,Q,Yt,Ve,Xi;class mi{constructor(s){d(this,Ve);d(this,H,void 0);d(this,ht,void 0);d(this,Ie,1);d(this,M,0);d(this,dt,0);d(this,xt,0);d(this,St,0);d(this,Q,null);d(this,Yt,null);u(this,H,s),u(this,ht,s.canvas)}get scale(){return r(this,Ie)}async loadImage(s){try{const t=await Kt(s.url);u(this,Q,t),u(this,xt,t.width),u(this,St,t.height),u(this,Yt,s)}catch(t){throw console.error(t),new Error("Failed to load wanted image.")}}setSize({width:s,height:t,shadowSize:i}){if(!r(this,Q))throw new Error("Failed to set size: wanted image is null");u(this,xt,s!=null?s:r(this,xt)),u(this,St,t!=null?t:r(this,St)),u(this,dt,i!=null?i:r(this,dt));const n=r(this,Q).width+r(this,dt)*2,o=r(this,Q).height+r(this,dt)*2,a=Dn(r(this,xt),r(this,St),n,o);return u(this,Ie,a),u(this,M,r(this,dt)*a),r(this,ht).width=n*a,r(this,ht).height=o*a,{wantedImageInfo:b(this,Ve,Xi).call(this,a,r(this,M)),scale:a,scaledShadowSize:r(this,M)}}render(){!r(this,Q)||(r(this,H).save(),r(this,H).shadowColor="rgba(0, 0, 0, 1)",r(this,H).shadowBlur=r(this,M),r(this,H).drawImage(r(this,Q),r(this,M),r(this,M),r(this,ht).width-r(this,M)*2,r(this,ht).height-r(this,M)*2),r(this,H).restore())}}H=new WeakMap,ht=new WeakMap,Ie=new WeakMap,M=new WeakMap,dt=new WeakMap,xt=new WeakMap,St=new WeakMap,Q=new WeakMap,Yt=new WeakMap,Ve=new WeakSet,Xi=function(s,t){if(!r(this,Yt))throw new Error("Failed to calculate wanted image info: WantedImageInfo object is null");const{url:i,width:n,height:o,avatarPosition:a,namePosition:c,bountyPosition:h,bountyFontSize:l,boundaryOffset:f,bellySignSize:p}=r(this,Yt),g=m=>{const{x:y,y:R,width:N,height:E}=m;return{x:y*s+t,y:R*s+t,width:N*s,height:E*s}};return{url:i,width:n,height:o,avatarPosition:g(a),namePosition:g(c),bountyPosition:g(h),bountyFontSize:l*s,boundaryOffset:{left:f.left*s+t,right:f.right*s+t,top:f.top*s+t,bottom:f.bottom*s+t},bellySignSize:{width:p.width*s,height:p.height*s}}};var x,kt,z,ut,W,It,Et,j,Lt,Ee,Le,Je,Ki,Ze,Vi,tn,Ji,en,Zi,nn,ts,sn,es,rn,ns,on,is,Pe,Nn,Ce,jn,Ae,On,an,ss,cn,rs;class Mr extends dn{constructor(t,i){super(t);d(this,Je);d(this,Ze);d(this,tn);d(this,en);d(this,nn);d(this,sn);d(this,rn);d(this,on);d(this,Pe);d(this,Ce);d(this,Ae);d(this,an);d(this,cn);d(this,x,void 0);d(this,kt,!1);d(this,z,!1);d(this,ut,!1);d(this,W,!1);d(this,It,4);d(this,Et,null);d(this,j,new Map);d(this,Lt,0);d(this,Ee,0);d(this,Le,0);u(this,x,i),i.on("imageloaded",()=>this.reset()),t.canvas.addEventListener("mouseout",b(this,Ze,Vi).bind(this),{passive:!0}),t.canvas.addEventListener("wheel",b(this,Je,Ki).bind(this),{passive:!0}),t.canvas.addEventListener("pointerdown",b(this,en,Zi).bind(this),{passive:!0}),t.canvas.addEventListener("pointerup",b(this,nn,ts).bind(this),{passive:!0}),t.canvas.addEventListener("pointercancel",b(this,sn,es).bind(this),{passive:!0}),t.canvas.addEventListener("pointermove",b(this,rn,ns).bind(this),{passive:!0}),t.canvas.addEventListener("pointerout",b(this,on,is).bind(this),{passive:!0})}set highlight(t){u(this,kt,t)}reset(){this.x=r(this,x).x,this.y=r(this,x).y,this.width=r(this,x).width,this.height=r(this,x).height,u(this,z,!1),u(this,ut,!1),u(this,W,!1)}render(){!r(this,z)&&!r(this,W)&&!r(this,kt)||(this.ctx.save(),Hn(this,Lt)._++,r(this,Lt)>16&&u(this,Lt,0),this.ctx.lineDashOffset=-r(this,Lt),this.ctx.fillStyle="rgba(255,255,255,0.5)",this.ctx.strokeStyle="red",this.ctx.lineWidth=r(this,It),this.ctx.setLineDash([10,5]),this.ctx.fillRect(this.x,this.y,this.width,this.height),this.ctx.strokeRect(this.x,this.y,this.width,this.height),this.ctx.restore())}}x=new WeakMap,kt=new WeakMap,z=new WeakMap,ut=new WeakMap,W=new WeakMap,It=new WeakMap,Et=new WeakMap,j=new WeakMap,Lt=new WeakMap,Ee=new WeakMap,Le=new WeakMap,Je=new WeakSet,Ki=function(t){const i=t.deltaY>0?.95:1.05;b(this,Ae,On).call(this,i)},Ze=new WeakSet,Vi=function(){u(this,z,!1)},tn=new WeakSet,Ji=function(t){const{left:i,top:n}=this.ctx.canvas.getBoundingClientRect(),o=t.clientX-i,a=t.clientY-n;if(r(this,ut)){const c=t.clientX-r(this,Ee),h=t.clientY-r(this,Le);b(this,cn,rs).call(this,c,h)}r(this,W)||b(this,an,ss).call(this,o,a),di(o,a,this.x,this.y,this.width,this.height,r(this,It))?(u(this,z,!0),u(this,kt,!1)):u(this,z,!1),u(this,Ee,t.clientX),u(this,Le,t.clientY)},en=new WeakSet,Zi=function(t){if(u(this,kt,!1),t.pointerType==="mouse"&&t.button===0){u(this,ut,!0);return}r(this,j).set(t.pointerId,t);const{left:i,top:n}=this.ctx.canvas.getBoundingClientRect();let o=!1;for(let a of r(this,j).values()){const c=a.clientX-i,h=a.clientY-n;if(di(c,h,this.x,this.y,this.width,this.height,r(this,It))){o=!0;break}}u(this,z,o)},nn=new WeakSet,ts=function(t){if(t.pointerType==="mouse"&&t.button===0){u(this,ut,!1),u(this,W,!1);return}b(this,Pe,Nn).call(this,t)},sn=new WeakSet,es=function(t){b(this,Pe,Nn).call(this,t)},rn=new WeakSet,ns=function(t){if(t.pointerType==="mouse"){b(this,tn,Ji).call(this,t);return}const i=Array.from(r(this,j).values());if(i.length===1&&r(this,z)){const n=i[0],{clientX:o,clientY:a}=t,c=r(this,j).get(n.pointerId);if(c){const h=o-c.clientX,l=a-c.clientY;this.x+=h,this.y+=l,r(this,x).x+=h,r(this,x).y+=l,r(this,x).updateRenderPosition()}}if(i.length===2&&r(this,z)){let n=r(this,j).get(i[0].pointerId),o=r(this,j).get(i[1].pointerId);if(n&&o){const a=i[0].pointerId===t.pointerId?i[1]:i[0];let c=b(this,Ce,jn).call(this,a,t),h=b(this,Ce,jn).call(this,n,o),l=c>h?1.02:.98;b(this,Ae,On).call(this,l)}}r(this,j).set(t.pointerId,t)},on=new WeakSet,is=function(t){t.pointerType==="mouse"&&(u(this,ut,!1),u(this,W,!1))},Pe=new WeakSet,Nn=function(t){r(this,j).delete(t.pointerId),r(this,j).size||u(this,z,!1)},Ce=new WeakSet,jn=function(t,i){const n=Math.abs(t.clientX-i.clientX),o=Math.abs(t.clientY-i.clientY);return Math.pow(n,2)+Math.pow(o,2)},Ae=new WeakSet,On=function(t){const i=this.width*t-this.width,n=this.height*t-this.height;this.x=this.x-i/2,this.width=this.width+i,this.y=this.y-n/2,this.height=this.height+n,r(this,x).x=this.x,r(this,x).y=this.y,r(this,x).width=this.width,r(this,x).height=this.height,r(this,x).updateRenderPosition()},an=new WeakSet,ss=function(t,i){const n=Tr(t,i,this.x,this.y,this.width,this.height,r(this,It));n.left||n.right?(this.ctx.canvas.style.cursor="ew-resize",u(this,Et,n.left?"left":"right")):n.top||n.bottom?(this.ctx.canvas.style.cursor="ns-resize",u(this,Et,n.top?"top":"bottom")):r(this,z)?this.ctx.canvas.style.cursor="move":this.ctx.canvas.style.cursor="default"},cn=new WeakSet,rs=function(t,i){switch(this.ctx.canvas.style.cursor){case"move":this.x+=t,this.y+=i,r(this,x).x+=t,r(this,x).y+=i,r(this,x).updateRenderPosition();break;case"ew-resize":{if(u(this,W,!0),r(this,Et)==="right"){const n=Math.max(this.width+t,1);this.width=n,r(this,x).width=n}else{const n=this.x+t;if(n>=this.x+this.width)break;const o=this.width-t;this.x=n,r(this,x).x=n,this.width=o,r(this,x).width=o}r(this,x).updateRenderPosition();break}case"ns-resize":{if(u(this,W,!0),r(this,Et)==="bottom"){const n=Math.max(this.height+i,1);this.height=n,r(this,x).height=n}else{const n=this.y+i;if(n>=this.y+this.height)break;const o=this.height-i;this.y=n,r(this,x).y=n,this.height=o,r(this,x).height=o}r(this,x).updateRenderPosition()}}};const Br="wanted-poster",Fr=["name","bounty","name-spacing","bounty-spacing","avatar-url","filter","shadow"];var ft,pt,_e,T,Pt,B,F,Y,G,Gt,Te,Xt,$e,Re,Mn,ze,Bn;class Ur extends HTMLElement{constructor(){super();d(this,Xt);d(this,Re);d(this,ze);d(this,ft,void 0);d(this,pt,void 0);d(this,_e,void 0);d(this,T,void 0);d(this,Pt,void 0);d(this,B,void 0);d(this,F,void 0);d(this,Y,void 0);d(this,G,void 0);d(this,Gt,void 0);d(this,Te,void 0);u(this,G,"init");const t=this.attachShadow({mode:"open"}),i=document.createElement("canvas"),n=document.createElement("div");n.className="container",n.appendChild(i);const o=document.createElement("style");o.textContent=zr,t.append(o,n);const a=i.getContext("2d");u(this,ft,n),u(this,pt,i),u(this,_e,a),u(this,Y,new mi(a)),u(this,T,new pi(a)),u(this,B,new ui(a)),u(this,F,new gi(a)),u(this,Pt,new Mr(a,r(this,T))),u(this,Gt,new ResizeObserver(()=>{clearTimeout(r(this,Te)),u(this,Te,window.setTimeout(()=>b(this,Re,Mn).call(this),200))})),r(this,Gt).observe(n)}async export(){var I,Vt,Oe,At;const t=document.createElement("canvas");t.style.display="none",r(this,ft).appendChild(t);const i=t.getContext("2d"),n=b(this,Xt,$e).call(this),o=new mi(i),a=new pi(i),c=new ui(i),h=new gi(i);await o.loadImage(Ue);const l=Ue.width+n*2,f=Ue.height+n*2,{wantedImageInfo:p}=o.setSize({width:l,height:f,shadowSize:n});await a.init(p),await c.init(p.namePosition),await h.init(p),await a.loadImage(this.getAttribute("avatar-url")),c.text=(I=this.getAttribute("name"))!=null?I:"",h.text=(Vt=this.getAttribute("bounty"))!=null?Vt:"",c.spacing=parseInt((Oe=this.getAttribute("name-spacing"))!=null?Oe:"0")||0,h.spacing=parseInt((At=this.getAttribute("bounty-spacing"))!=null?At:"0")||0;const{x:g,y:m,width:y,height:R,filter:N}=r(this,T),E=r(this,Y).scale;a.x=g/E,a.y=m/E,a.width=y/E,a.height=R/E,a.filter=N,a.updateRenderPosition(),a.render(),o.render(),h.render(),c.render();try{const v=await new Promise(mt=>{t.toBlob(_t=>mt(_t),"image/png",1)});if(!v)throw new Error("blob is null");const P=URL.createObjectURL(v);Rr(P,"wanted-poster.png"),URL.revokeObjectURL(P),r(this,ft).removeChild(t)}catch(v){console.error(v),this.dispatchEvent(new CustomEvent("ExportError",{bubbles:!0}))}}static get observedAttributes(){return Fr}async connectedCallback(){var o,a,c,h;console.log("[connected]"),await new Promise(l=>{setTimeout(()=>l(""))}),u(this,G,"loading");const t=b(this,Xt,$e).call(this),i=r(this,ft).getBoundingClientRect();try{await r(this,Y).loadImage(Ue);const{wantedImageInfo:l}=r(this,Y).setSize({width:i.width,height:i.height,shadowSize:t});await r(this,T).init(l),await r(this,B).init(l.namePosition),await r(this,F).init(l),await r(this,T).loadImage(this.getAttribute("avatar-url"))}catch(l){u(this,G,"error"),console.error("Failed to init wanted poster.",l);return}r(this,B).text=(o=this.getAttribute("name"))!=null?o:"",r(this,F).text=(a=this.getAttribute("bounty"))!=null?a:"",r(this,B).spacing=parseInt((c=this.getAttribute("name-spacing"))!=null?c:"0")||0,r(this,F).spacing=parseInt((h=this.getAttribute("bounty-spacing"))!=null?h:"0")||0;const n=this.getAttribute("filter");n&&(r(this,T).filter=n),u(this,G,"success"),b(this,ze,Bn).call(this),this.dispatchEvent(new CustomEvent("WantedPosterLoaded",{bubbles:!0}))}disconnectedCallback(){console.log("[disconnected]"),r(this,Gt).disconnect()}adoptedCallback(){console.log("[adopted]")}async attributeChangedCallback(t,i,n){if(r(this,G)==="success")switch(t){case"name":r(this,B).text=n;break;case"bounty":r(this,F).text=n;break;case"name-spacing":r(this,B).spacing=parseInt(n)||0;break;case"bounty-spacing":r(this,F).spacing=parseInt(n)||0;break;case"avatar-url":{await r(this,T).loadImage(n),r(this,Pt).highlight=n!==Fi.avatarUrl;break}case"filter":{r(this,T).filter=n;break}case"shadow":{b(this,Re,Mn).call(this);break}}}}ft=new WeakMap,pt=new WeakMap,_e=new WeakMap,T=new WeakMap,Pt=new WeakMap,B=new WeakMap,F=new WeakMap,Y=new WeakMap,G=new WeakMap,Gt=new WeakMap,Te=new WeakMap,Xt=new WeakSet,$e=function(){const t=this.getAttribute("shadow");if(!t)return 0;const i=Number.parseInt(t);return Number.isNaN(i)?0:i},Re=new WeakSet,Mn=function(){if(r(this,G)!=="success")return;const t=b(this,Xt,$e).call(this),i=r(this,ft).getBoundingClientRect(),n=Dn(i.width,i.height,r(this,pt).width,r(this,pt).height),{wantedImageInfo:o}=r(this,Y).setSize({width:i.width,height:i.height,shadowSize:t});r(this,B).setPosition(o.namePosition),r(this,F).setPosition(o),r(this,T).setWantedImageInfo(o),r(this,T).scale(n),r(this,Pt).scale(n)},ze=new WeakSet,Bn=function(){r(this,_e).clearRect(0,0,r(this,pt).width,r(this,pt).height),r(this,T).render(),r(this,Y).render(),r(this,F).render(),r(this,B).render(),r(this,Pt).render(),requestAnimationFrame(b(this,ze,Bn).bind(this))};customElements.define(Br,Ur);
